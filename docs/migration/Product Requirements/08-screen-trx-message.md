# [거래/전문 관리] 화면 요구사항

---

## 전문 관리

**화면 목적**: 전문(메시지) 구조를 정의하고 필드를 관리하는 화면이다. 기관별 전문 관리, 부모-자식 전문 관계 설정, 필드 정의 및 순서 관리가 가능하며, 전문 정의에 대한 잠금/버전 관리/백업/복원 기능을 제공한다.

**접근 경로**: GNB > 거래/전문 관리 > 전문 관리

**화면 유형**: 목록-상세 전환형 화면 (템플릿 E 참조)

### 화면 레이아웃 구성 - 목록 모드

| 영역 | 설명 |
|------|------|
| 제목 영역 | 화면 제목 ("전문 관리") + 엑셀 / 출력 / 새로고침 버튼 |
| 검색 필터 영역 | 기관 드롭다운 + 검색 유형 + 검색어 + 전문 타입 + 요청/응답 + 조회 건수 + 조회 버튼 |
| 목록 영역 | 전문 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 등록 버튼 |

### 화면 레이아웃 구성 - 상세 모드

| 영역 | 설명 |
|------|------|
| 제목 영역 | "전문 등록" 또는 "전문 수정" 제목 + 잠금 상태 표시 |
| 기본 정보 폼 | 2열 격자 배열의 전문 기본 정보 입력 폼 |
| 필드 정의 영역 | 인라인 편집 그리드 + 드래그 앤 드롭 정렬 (전문 필드 목록) |
| 전문 구조 트리 영역 | 전문 전체 구조를 트리 형태로 표시하는 접기/펼치기 가능한 영역 |
| 버전 이력 영역 | 접기/펼치기 가능한 변경 이력(버전) 목록 |
| 버튼 영역 | 저장, 삭제(수정 시), 유사 복사(수정 시), 백업(수정 시), 잠금/잠금해제(수정 시), 목록으로 돌아가기 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 기관 | 드롭다운 (전체 + 기관 목록) | 선택 | 전체 | API에서 동적 로드 |
| 검색 유형 | 드롭다운 (전문 ID / 전문명) | 선택 | 전문 ID | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |
| 전문 타입 | 드롭다운 (전체/F/V/X/J/M) | 선택 | 전체 | - |
| 요청/응답 | 드롭다운 (전체/요청/응답) | 선택 | 전체 | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 기관 ID | 텍스트 | 가능 | - |
| 전문 ID | 텍스트 | 가능 | - |
| 전문명 | 텍스트 | 가능 | - |
| 전문 설명 | 텍스트 | 불가 | - |
| 상위 전문 ID | 텍스트 | 불가 | - |
| 전문 타입 | 텍스트 | 불가 | F/V/X/J/M |
| 헤더 | 상태 아이콘 | 불가 | Y/N |
| 요청/응답 | 텍스트 | 불가 | - |
| 거래 유형 | 텍스트 | 불가 | - |
| 로그 레벨 | 텍스트 | 불가 | - |
| 잠금 | 상태 아이콘 | 불가 | 잠금 중일 때 자물쇠 아이콘 표시, 잠금자 툴팁 |
| 최종 수정일시 | 날짜/시간 | 가능 | - |

- 목록 클릭 시 동작: 해당 전문의 상세 모드(수정)로 전환
- 기본 정렬 기준: 전문 ID 오름차순
- 페이지당 기본 표시 건수: 20건

### 상세 모드 - 기본 정보 폼

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| 기관 ID | 드롭다운 | 필수 | 등록 시만 가능 | 기관 목록에서 선택 |
| 전문 ID | 텍스트 입력 | 필수 | 등록 시만 가능 | 영문/숫자, 최대 50자 |
| 전문명 | 텍스트 입력 | 필수 | 가능 | 최대 50자 |
| 전문 설명 | 텍스트 영역 | 선택 | 가능 | 최대 200자 |
| 전문 타입 | 드롭다운 (F/V/X/J/M) | 필수 | 가능 | - |
| 상위 전문 ID | 텍스트 입력 + 트리 선택 | 선택 | 가능 | 트리 선택 팝업으로 입력 |
| 요청/응답 | 드롭다운 (요청/응답) | 필수 | 가능 | - |
| 거래 유형 | 드롭다운 | 선택 | 가능 | - |
| 헤더 사용 | 체크박스 | 선택 | 가능 | - |
| 로그 레벨 | 드롭다운 | 선택 | 가능 | - |
| 사용 여부 | 드롭다운 (Y/N) | 필수 | 가능 | 기본값: Y |

### 상세 모드 - 필드 정의 영역 (인라인 편집 그리드)

| 컬럼명 | 입력 유형 | 필수 여부 | 비고 |
|--------|-----------|-----------|------|
| 순서 | 드래그 핸들 | - | 드래그 앤 드롭으로 순서 변경 |
| 필드 ID | 텍스트 입력 | 필수 | 영문/숫자, 최대 50자 |
| 필드명 | 텍스트 입력 | 필수 | 최대 100자 |
| 필드 유형 | 드롭다운 | 필수 | 문자/숫자/날짜 등 |
| 필드 길이 | 숫자 입력 | 필수 | 1 이상 |
| 필수 여부 | 체크박스 | 선택 | - |
| 기본값 | 텍스트 입력 | 선택 | 최대 200자 |
| 설명 | 텍스트 입력 | 선택 | 최대 200자 |
| 삭제 | 버튼 (X) | - | 해당 행 삭제 |

- 상위 전문이 설정된 경우, 상위 전문의 필드가 읽기 전용으로 상단에 함께 표시되어야 한다.
- 행 추가 버튼으로 새 필드를 추가할 수 있어야 한다.
- 드래그 앤 드롭으로 필드 순서를 변경할 수 있어야 한다.

### 버튼 및 액션 - 목록 모드

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 등록 | 항상 노출 | 상세 모드(등록)로 전환 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 새로고침 | 항상 노출 | 목록 새로고침 | 전체 |
| Excel 업로드 | 항상 노출 | 전문 구조 Excel 파일 업로드 팝업 열기 | 쓰기 권한 |

### 버튼 및 액션 - 상세 모드

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 저장 | 항상 노출 | 전문 정보 및 필드 정의 일괄 저장 | 쓰기 권한 |
| 삭제 | 수정 모드 시 | 확인 팝업 후 전문 삭제 | 쓰기 권한 |
| 유사 복사 | 수정 모드 시 | 현재 전문 데이터를 기반으로 등록 모드 전환 (전문 ID 초기화) | 쓰기 권한 |
| 백업 | 수정 모드 시 | 현재 전문 상태를 백업 (메모 입력 팝업 표시) | 쓰기 권한 |
| 잠금 | 수정 모드, 잠금 해제 상태 시 | 전문 편집 잠금 설정 (다른 사용자 수정 방지) | 쓰기 권한 |
| 잠금 해제 | 수정 모드, 잠금 상태 시 | 전문 편집 잠금 해제 | 쓰기 권한 (잠금자 본인 또는 관리자) |
| Excel 내보내기 | 수정 모드 시 | 현재 전문 구조 전체를 Excel 파일로 다운로드 | 전체 |
| 목록으로 | 항상 노출 | 목록 모드로 복귀 (변경사항 확인 팝업) | 전체 |

### 개별 기능 요구사항

- 상세 모드에서 필드 정의 영역이 표시되어야 하며, 필드 ID, 필드명, 유형, 길이, 필수 여부, 기본값, 설명을 설정할 수 있어야 한다.
- 상위 전문이 있으면 상위 필드가 읽기 전용으로 함께 표시되어야 한다.
- 전문 상세 모드에서 전체 구조를 트리 형태로 조회할 수 있어야 한다.
- 필드 정의 영역에서 드래그 앤 드롭으로 필드 순서를 재정렬할 수 있어야 한다.
- 전문 구조 전체를 Excel로 내보내기/가져오기할 수 있어야 한다. Excel 업로드 시 기존 필드와 비교하여 추가/변경/삭제 항목을 미리보기로 표시한 후 사용자 확인 후 반영되어야 한다.
- 전문 정의에 대한 잠금 기능이 제공되어야 한다. 잠금 상태에서 다른 사용자가 수정을 시도하면 "현재 {잠금자명}님이 편집 중입니다. 잠금 해제 후 수정하세요." 메시지가 표시되어야 한다. 잠금은 잠금자 본인 또는 관리자 권한으로만 해제할 수 있어야 한다.
- 변경 이력(버전) 관리: 전문 저장 시마다 버전이 자동으로 생성되어야 한다. 버전 이력 영역에서 이전 버전 목록(버전 번호, 수정일시, 수정자, 변경 사유)을 조회할 수 있어야 한다. 특정 버전을 선택하여 현재 전문과의 차이(diff)를 비교할 수 있어야 한다.
- 백업/복원 기능: 현재 전문 상태(전문 구조 + 필드 정의 전체)를 백업하고, 필요 시 선택한 백업 시점으로 복원할 수 있어야 한다. 복원 전 "현재 데이터가 백업 시점({YYYY-MM-DD HH:mm})의 데이터로 대체됩니다. 계속하시겠습니까?" 확인 팝업이 표시되어야 한다. 백업 이력(일시, 수행자, 메모)이 목록으로 표시되어야 한다.
- 유사 복사 기능: 수정 모드에서 "유사 복사" 버튼 클릭 시 현재 전문의 모든 데이터(필드 정의 포함)가 사전 입력된 등록 모드로 전환되어야 한다. 전문 ID는 빈 값으로 초기화되어 사용자가 새로 입력하여야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 전문 목록 조회 결과가 3초 이내에 표시되어야 한다 |
| 상세 전환 | 목록에서 상세 모드로의 전환이 1초 이내에 완료되어야 한다 |
| 상태 보존 | 상세 모드에서 목록으로 복귀 시 이전 검색 조건, 스크롤 위치, 선택된 페이지가 유지되어야 한다 |
| 잠금 갱신 | 잠금 상태는 60초 간격으로 자동 갱신(heartbeat)되어야 하며, 30분 이상 비활성 시 자동 해제되어야 한다 |

---

## 거래 관리

**화면 목적**: 거래(트랜잭션)를 등록하고 요청/응답 전문 흐름을 설정하며, 거래 상태를 관리하는 화면이다. 전문 흐름 다이어그램 시각화, 일괄 중지/기동, 유사 거래 복사 기능을 제공한다.

**접근 경로**: GNB > 거래/전문 관리 > 거래 관리

**화면 유형**: 목록-상세 전환형 화면 (템플릿 E 참조)

### 화면 레이아웃 구성 - 목록 모드

| 영역 | 설명 |
|------|------|
| 제목 영역 | 화면 제목 ("거래 관리") + 엑셀 / 출력 / 새로고침 버튼 |
| 검색 필터 영역 | 기관 드롭다운 + 검색 유형 + 검색어 + 상태 + 조회 건수 + 조회 버튼 |
| 목록 영역 | 거래 목록 테이블 (다중 선택 체크박스 포함) |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 등록, 일괄 중지, 일괄 기동 버튼 |

### 화면 레이아웃 구성 - 상세 모드 (최대 너비 1100px)

| 영역 | 설명 |
|------|------|
| 제목 영역 | "거래 등록" 또는 "거래 수정" 제목 |
| 기본 정보 폼 | 2열 격자 배열의 거래 기본 정보 입력 폼 |
| 재시도 설정 영역 | 재시도 관련 입력 필드 그룹 |
| 거래 허용 시간 영역 | 영업일/토요일/공휴일별 허용 시간 설정 |
| 전문 흐름 다이어그램 영역 | 수정 모드에서 표시되는 시각적 노드/엣지 다이어그램 |
| 버튼 영역 | 저장, 삭제(수정 시), 유사 복사(수정 시), WAS Reload(수정 시), 목록으로 돌아가기 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 기관 | 드롭다운 (전체 + 기관 목록) | 선택 | 전체 | API에서 동적 로드 |
| 검색 유형 | 드롭다운 (거래 ID / 거래명 / 전문 ID) | 선택 | 거래 ID | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |
| 상태 | 드롭다운 (전체/정상/중지) | 선택 | 전체 | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 선택 | 체크박스 | 불가 | 다중 선택용, 헤더에 전체선택 체크박스 포함 |
| 거래 ID | 텍스트 | 가능 | - |
| 거래명 | 텍스트 | 가능 | - |
| 기관명 | 텍스트 | 가능 | - |
| 기동/수동 | 텍스트 | 불가 | - |
| 요청/응답 전문명 | 텍스트 | 불가 | - |
| 기본값 설정 전문 | 텍스트 | 불가 | - |
| 현재 상태 | 상태 배지 | 불가 | 정상=초록, 중지=빨강 |
| 대응답 관리 | 버튼 | 불가 | 클릭 시 당발 대응답 관리 화면으로 이동 |
| 다수 응답 | 상태 아이콘 | 불가 | Y/N |

- 목록 클릭 시 동작: 해당 거래의 상세 모드(수정)로 전환
- 기본 정렬 기준: 거래 ID 오름차순
- 페이지당 기본 표시 건수: 20건
- 다중 선택 지원 여부: 지원 (일괄 중지/기동용)

### 상세 모드 - 기본 정보 폼

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| 거래 코드 | 텍스트 입력 | 필수 | 등록 시만 가능 | 영문/숫자/밑줄/하이픈, 최대 40자 |
| 거래명 | 텍스트 입력 | 선택 | 가능 | 최대 50자 |
| 거래 유형 | 드롭다운 (ONLINE/BATCH) | 필수 | 가능 | - |
| 운영 모드 | 드롭다운 (운영/대기/테스트) | 선택 | 가능 | - |
| 거래 상태 | 드롭다운 (정상/중지) | 선택 | 가능 | - |
| 업무 그룹 ID | 텍스트 입력 | 선택 | 가능 | 최대 10자 |
| 거래 설명 | 텍스트 영역 | 선택 | 가능 | 최대 200자 |
| 중지 사유 | 텍스트 영역 | 중지 시 필수 | 가능 | 최대 200자, 거래 상태가 "중지"일 때만 표시 |
| 요청 전문 | 드롭다운 + 검색 | 선택 | 가능 | 전문 검색 팝업으로 선택 |
| 응답 전문 | 드롭다운 + 검색 | 선택 | 가능 | 전문 검색 팝업으로 선택 |

### 상세 모드 - 재시도 설정

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| 재시도 여부 | 드롭다운 (Y/N) | 필수 | 가능 | - |
| 최대 재시도 횟수 | 숫자 입력 | 필수 | 가능 | 0 이상 |
| 재시도 주기(분) | 숫자 입력 | 선택 | 가능 | 최대 4자리 숫자 |

### 상세 모드 - 거래 허용 시간 설정

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| 영업일 시작 시간 | 시간 입력 (HHMM) | 선택 | 가능 | 4자리 숫자, 0000~2359 |
| 영업일 종료 시간 | 시간 입력 (HHMM) | 선택 | 가능 | 4자리 숫자, 시작 시간 이후 |
| 토요일 시작 시간 | 시간 입력 (HHMM) | 선택 | 가능 | 4자리 숫자, 0000~2359 |
| 토요일 종료 시간 | 시간 입력 (HHMM) | 선택 | 가능 | 4자리 숫자, 시작 시간 이후 |
| 공휴일 시작 시간 | 시간 입력 (HHMM) | 선택 | 가능 | 4자리 숫자, 0000~2359 |
| 공휴일 종료 시간 | 시간 입력 (HHMM) | 선택 | 가능 | 4자리 숫자, 시작 시간 이후 |

### 상세 모드 - 전문 흐름 다이어그램

- 수정 모드에서만 표시되며, 등록 모드에서는 숨김 처리되어야 한다.
- 다이어그램 구성 노드: 서버(게이트웨이) -> 요청 전문 -> 내부 시스템 -> 응답 전문
- 각 노드는 해당 전문/시스템의 이름과 ID를 표시하여야 한다.
- 노드 간 연결 엣지(화살표)로 데이터 흐름 방향을 표시하여야 한다.
- 전문 맵핑을 개별 변경할 수 있어야 하며, 노드 클릭 시 전문 선택 팝업이 열려야 한다.
- 변경된 전문 맵핑은 즉시 다이어그램에 반영되어야 한다.

### 버튼 및 액션 - 목록 모드

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 등록 | 항상 노출 | 상세 모드(등록)로 전환 | 쓰기 권한 |
| 일괄 중지 | 1건 이상 선택 시 활성화 | 선택된 거래를 일괄 중지 (중지 사유 입력 팝업 표시) | 쓰기 권한 |
| 일괄 기동 | 1건 이상 선택 시 활성화 | 선택된 거래를 일괄 기동 (확인 팝업 표시) | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 새로고침 | 항상 노출 | 목록 새로고침 | 전체 |

### 버튼 및 액션 - 상세 모드

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 저장 | 항상 노출 | 거래 정보 저장 | 쓰기 권한 |
| 삭제 | 수정 모드 시 | 확인 팝업 후 거래 삭제 | 쓰기 권한 |
| 유사 복사 | 수정 모드 시 | 현재 거래 데이터를 기반으로 등록 모드 전환 (거래 코드 초기화) | 쓰기 권한 |
| WAS Reload | 수정 모드 시 | WAS Reload 확인 팝업 열기 (인스턴스 선택 + 반영 결과 표시) | 쓰기 권한 |
| 목록으로 | 항상 노출 | 목록 모드로 복귀 (변경사항 확인 팝업) | 전체 |

### 개별 기능 요구사항

- 영업일/토요일/공휴일별 거래 허용 시간(HHMM)을 설정할 수 있어야 한다. 설정된 시간 범위 외에는 거래가 차단되어야 한다.
- 수정 모드에서 전문 흐름 다이어그램이 표시되어야 한다. 다이어그램은 서버(게이트웨이) -> 요청 전문 -> 내부 시스템 -> 응답 전문 순서로 시각적 노드/엣지로 구성되어야 한다.
- 전문 맵핑을 개별 변경할 수 있어야 하며, 변경 후 WAS Reload를 요청할 수 있어야 한다.
- 중지 사유 필드는 거래 상태가 "중지"일 때만 표시되어야 한다. 거래 상태를 "중지"로 변경하면 중지 사유 필드가 즉시 나타나야 하며, 중지 사유는 이 때 필수 입력이어야 한다.
- 일괄 중지/일괄 기동: 목록에서 체크박스로 다중 선택 후 "일괄 중지" 또는 "일괄 기동" 버튼을 클릭하여 선택된 거래를 한 번에 상태 변경할 수 있어야 한다. 일괄 중지 시 중지 사유 입력 팝업이 표시되어야 한다. 처리 결과(성공/실패 건수)가 토스트 메시지로 표시되어야 한다.
- 유사 거래 복사: 수정 모드에서 "유사 복사" 버튼 클릭 시 현재 거래의 모든 데이터(전문 맵핑 포함)가 사전 입력된 등록 모드로 전환되어야 한다. 거래 코드는 빈 값으로 초기화되어 사용자가 새로 입력하여야 한다.
- 전문 흐름 다이어그램 시각화: 수정 모드에서 거래에 연결된 전문 흐름을 시각적 노드/엣지 다이어그램으로 표시하여야 한다. 다이어그램 내 노드를 클릭하여 전문 맵핑을 직접 변경할 수 있어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 거래 목록 조회 결과가 3초 이내에 표시되어야 한다 |
| 상세 전환 | 목록에서 상세 모드로의 전환이 1초 이내에 완료되어야 한다 |
| 상태 보존 | 상세 모드에서 목록으로 복귀 시 이전 검색 조건, 스크롤 위치, 선택된 페이지가 유지되어야 한다 |
| 다이어그램 | 전문 흐름 다이어그램이 2초 이내에 렌더링되어야 한다 |
| 일괄 처리 | 일괄 중지/기동 처리 결과가 5초 이내에 표시되어야 한다 |

---

## 거래 Validator 관리

**화면 목적**: 거래 유효성 검증 규칙(Validator)을 등록하고 관리하는 화면이다.

**접근 경로**: GNB > 거래/전문 관리 > 거래 Validator 관리

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 검색 유형 드롭다운 + 검색어 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, Validator 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 등록 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 검색 유형 | 드롭다운 (Validator명 / Validator ID) | 선택 | Validator명 | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| Validator ID | 텍스트 | 가능 | - |
| Validator명 | 텍스트 | 가능 | - |
| 구현 클래스명 | 텍스트 | 가능 | - |
| 설명 | 텍스트 | 가능 | - |
| 사용 여부 | 상태 아이콘 | 불가 | Y/N |

- 목록 클릭 시 동작: Validator 수정 팝업 열림
- 기본 정렬 기준: Validator ID 오름차순
- 페이지당 기본 표시 건수: 20건

### 등록 / 수정 팝업

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| Validator ID | 텍스트 입력 | 필수 | 등록 시만 가능 | 영문/숫자, 최대 50자 |
| Validator명 | 텍스트 입력 | 필수 | 가능 | 최대 100자 |
| 구현 클래스명 | 텍스트 입력 | 필수 | 가능 | 최대 200자 |
| 설명 | 텍스트 영역 | 선택 | 가능 | 최대 200자 |
| 사용 여부 | 드롭다운 (Y/N) | 필수 | 가능 | 기본값: Y |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 등록 | 항상 노출 | Validator 등록 팝업 열기 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 저장 (팝업) | 팝업 열림 시 | Validator 저장 | 쓰기 권한 |
| 삭제 (팝업) | 수정 모드 시 | 확인 팝업 후 삭제 | 쓰기 권한 |

### 개별 기능 요구사항

- Validator를 거래에 연결하여 거래 실행 시 유효성 검증이 수행되도록 설정할 수 있어야 한다.
- 구현 클래스명은 시스템에 등록된 클래스 경로를 입력하여야 하며, 존재하지 않는 클래스 경로 입력 시 저장은 허용하되 경고 메시지가 표시되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## 거래 중지 관리

**화면 목적**: 거래의 즉시 중지, 예약 중지, 재개를 관리하는 화면이다. 중지 예정/중지 중인 거래를 조회하고, 중지 사유를 관리하며, 변경 후 WAS에 반영할 수 있다.

**접근 경로**: GNB > 거래/전문 관리 > 거래 중지 관리

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 검색 유형 + 검색어 + 중지 상태 + 조회 기간 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 거래 중지 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 중지 등록 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 검색 유형 | 드롭다운 (거래 ID / 거래명) | 선택 | 거래 ID | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |
| 중지 상태 | 드롭다운 (전체/중지예정/중지중) | 선택 | 전체 | - |
| 조회 기간 | 날짜 범위 (시작일 ~ 종료일) | 선택 | 최근 1개월 | 시작일 ≤ 종료일 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 거래 ID | 텍스트 | 가능 | - |
| 거래명 | 텍스트 | 가능 | - |
| 중지 상태 | 상태 배지 | 불가 | 예정=노랑, 중지중=빨강 |
| 중지 예정일 | 날짜/시간 | 가능 | - |
| 중지 해제일 | 날짜/시간 | 가능 | - |
| 중지 사유 | 텍스트 | 불가 | - |

- 목록 클릭 시 동작: 거래 중지 수정 팝업 열림
- 기본 정렬 기준: 중지 예정일 내림차순
- 페이지당 기본 표시 건수: 20건

### 등록 / 수정 팝업

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| 거래 | 텍스트 입력 + 검색 | 필수 | 등록 시만 가능 | 거래 검색 팝업으로 선택 |
| 중지 유형 | 드롭다운 (즉시 중지/예약 중지) | 필수 | 가능 | - |
| 중지 예정일 | 날짜/시간 선택 | 예약 중지 시 필수 | 가능 | 현재 시간 이후, 중지 유형이 "예약 중지"일 때만 표시 |
| 중지 해제일 | 날짜/시간 선택 | 선택 | 가능 | 중지 예정일 이후 |
| 중지 사유 | 텍스트 영역 | 필수 | 가능 | 최대 200자 |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 중지 등록 | 항상 노출 | 거래 중지 등록 팝업 열기 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 저장 (팝업) | 팝업 열림 시 | 중지 정보 저장 | 쓰기 권한 |
| 재개 (팝업) | 수정 모드, 중지 상태 시 | 확인 팝업 후 거래 재개 | 쓰기 권한 |
| 삭제 (팝업) | 수정 모드 시 | 확인 팝업 후 삭제 | 쓰기 권한 |
| WAS Reload (팝업) | 팝업 내 | WAS Reload 확인 팝업 열기 | 쓰기 권한 |

### 개별 기능 요구사항

- 즉시 중지와 예약 중지를 선택할 수 있어야 한다. 즉시 중지 선택 시 저장과 동시에 거래가 중지되어야 하며, 예약 중지 선택 시 중지 예정일에 자동으로 중지되어야 한다.
- 중지된 거래를 재개할 수 있어야 한다. 재개 시 확인 팝업이 표시되어야 한다.
- 중지 사유는 필수 입력이어야 한다.
- 중지 유형이 "예약 중지"일 때만 중지 예정일 필드가 표시되어야 한다.
- 변경 후 WAS Reload를 요청할 수 있어야 하며, 인스턴스 선택 및 반영 결과가 표시되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## 전문 테스트

**화면 목적**: 거래별 전문 송수신 테스트 시나리오를 작성하고 실행하며, 요청/응답 전문 결과를 확인하는 화면이다. 시뮬레이션 모드를 지원한다.

**접근 경로**: GNB > 거래/전문 관리 > 전문 테스트

**화면 유형**: 특수 화면 (템플릿 D - 테스트 실행형, 목록 + 실행 패널)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 기관 드롭다운 + 거래 ID + 테스트 상태 + 테스트일 + 조회 버튼 |
| 목록 영역 | 좌측, 테스트 시나리오 목록 |
| 실행 패널 | 우측, 테스트 실행 및 결과 표시 영역 |
| 버튼 영역 | 하단, 시나리오 등록 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 기관 | 드롭다운 (전체 + 기관 목록) | 선택 | 전체 | API에서 동적 로드 |
| 거래 ID | 텍스트 입력 | 선택 | 빈 값 | - |
| 테스트 상태 | 드롭다운 (전체/준비/실행중/완료) | 선택 | 전체 | - |
| 테스트일 | 날짜 선택 | 선택 | 오늘 | - |

### 목록 표시 (좌측 시나리오 목록)

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 거래 ID | 텍스트 | 가능 | - |
| 거래명 | 텍스트 | 가능 | - |
| 테스트 상태 | 상태 배지 | 불가 | 준비=회색, 실행중=파랑, 완료=초록 |
| 테스트 건수 | 숫자 | 불가 | - |
| 성공 건수 | 숫자 | 불가 | - |
| 실패 건수 | 숫자 | 불가 | - |
| 작성자 | 텍스트 | 불가 | - |
| 작성일 | 날짜/시간 | 가능 | - |

- 목록 클릭 시 동작: 우측 실행 패널에 해당 시나리오 상세 표시
- 기본 정렬 기준: 작성일 내림차순

### 실행 패널 구성

| 영역 | 설명 |
|------|------|
| 시나리오 정보 | 선택된 시나리오의 거래 ID, 거래명, 설명 표시 |
| 테스트 케이스 목록 | 등록된 테스트 케이스 목록 (추가/삭제 가능) |
| 요청 전문 입력 | 선택된 테스트 케이스의 요청 전문 데이터 입력 영역 |
| WAS 인스턴스 선택 | 테스트를 실행할 WAS 인스턴스 선택 드롭다운 |
| 실행 버튼 | 테스트 실행, 시뮬레이션 실행 버튼 |
| 결과 표시 영역 | 요청/응답 전문 결과 표시 (성공/실패 상태, 응답 시간 포함) |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 시나리오 등록 | 항상 노출 | 시나리오 등록 팝업 열기 (거래 검색 선택) | 쓰기 권한 |
| 테스트 케이스 추가 | 시나리오 선택 시 | 실행 패널에 새 테스트 케이스 행 추가 | 쓰기 권한 |
| 테스트 실행 | 시나리오 선택 + WAS 인스턴스 선택 시 | 선택된 WAS에서 테스트 실행 | 쓰기 권한 |
| 시뮬레이션 실행 | 시나리오 선택 시 | 시뮬레이션 모드로 테스트 실행 (실제 시스템 연동 없이 전문 구조 검증) | 쓰기 권한 |
| 시나리오 삭제 | 시나리오 선택 시 | 확인 팝업 후 시나리오 삭제 | 쓰기 권한 |

### 개별 기능 요구사항

- 시나리오 등록 시 거래를 검색하여 선택할 수 있어야 한다. 거래 검색 팝업에서 거래 ID 또는 거래명으로 검색이 가능하여야 한다.
- 테스트 케이스를 추가하고 요청 전문 데이터를 입력할 수 있어야 한다. 요청 전문 데이터는 해당 거래의 전문 구조에 맞는 필드별 입력 폼으로 제공되어야 한다.
- WAS 인스턴스를 선택하여 테스트를 실행할 수 있어야 한다. 인스턴스 목록은 API에서 동적으로 로드되어야 한다.
- 테스트 실행 후 요청/응답 전문 결과가 실행 패널 하단에 표시되어야 한다. 결과에는 성공/실패 상태, 응답 시간(ms), 응답 전문 데이터가 포함되어야 한다.
- 시뮬레이션 모드가 제공되어야 한다. 시뮬레이션 모드에서는 실제 외부 시스템과 연동하지 않고 전문 구조 및 데이터 유효성만 검증하여야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 시나리오 목록 조회가 3초 이내에 표시되어야 한다 |
| 테스트 실행 | 단건 테스트 실행 결과가 10초 이내에 표시되어야 한다 |

---

## 당발 대응답 관리

**화면 목적**: 테스트용 프록시 응답 데이터를 등록하고 관리하는 화면이다. 외부 시스템 연동 없이 테스트할 수 있도록 프록시 응답을 사전 등록한다.

**접근 경로**: GNB > 거래/전문 관리 > 당발 대응답 관리

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 검색 유형 + 검색어 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 대응답 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 등록 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 검색 유형 | 드롭다운 (거래 ID / 거래명 / 프록시 ID) | 선택 | 거래 ID | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 거래 ID | 텍스트 | 가능 | - |
| 거래명 | 텍스트 | 가능 | - |
| 프록시 ID | 텍스트 | 가능 | - |
| 테스트 데이터 | 텍스트 | 불가 | 긴 텍스트는 말줄임 처리 |
| 작성자 | 텍스트 | 불가 | - |
| 작성일 | 날짜/시간 | 가능 | - |

- 목록 클릭 시 동작: 대응답 수정 팝업 열림
- 기본 정렬 기준: 거래 ID 오름차순
- 페이지당 기본 표시 건수: 20건

### 등록 / 수정 팝업

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| 거래 | 텍스트 입력 + 검색 | 필수 | 등록 시만 가능 | 거래 검색 팝업으로 선택 |
| 프록시 ID | 텍스트 입력 | 필수 | 등록 시만 가능 | 영문/숫자, 최대 50자 |
| 프록시 응답 데이터 | 텍스트 영역 | 필수 | 가능 | 프록시 응답 전문 데이터 (텍스트 형태) |
| 설명 | 텍스트 영역 | 선택 | 가능 | 최대 200자 |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 등록 | 항상 노출 | 대응답 등록 팝업 열기 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 저장 (팝업) | 팝업 열림 시 | 대응답 정보 저장 | 쓰기 권한 |
| 삭제 (팝업) | 수정 모드 시 | 확인 팝업 후 삭제 | 쓰기 권한 |
| WAS Reload (팝업) | 팝업 내 | WAS Reload 확인 팝업 열기 | 쓰기 권한 |

### 개별 기능 요구사항

- 거래 검색 팝업을 통해 거래를 선택할 수 있어야 한다. 팝업에서 거래 ID 또는 거래명으로 검색이 가능하여야 한다.
- 프록시 응답 데이터를 텍스트로 입력할 수 있어야 한다. 텍스트 영역은 충분한 높이를 제공하여야 하며, 줄바꿈이 지원되어야 한다.
- 변경 후 WAS Reload를 요청할 수 있어야 하며, 인스턴스 선택 및 반영 결과가 표시되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## 거래 추적 로그 조회

**화면 목적**: DB에 기록된 전문 인스턴스 로그를 조회하고, 요청/응답 전문을 필드 단위로 파싱하여 상세 내역을 확인하는 화면이다 (조회 전용).

**접근 경로**: GNB > 거래/전문 관리 > 거래 추적 로그 조회

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 거래 ID + 기관 드롭다운 + 조회 기간 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 거래 추적 로그 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 거래 ID | 텍스트 입력 | 선택 | 빈 값 | - |
| 기관 | 드롭다운 (전체 + 기관 목록) | 선택 | 전체 | API에서 동적 로드 |
| 조회 기간 | 날짜 범위 (시작일 ~ 종료일) | 선택 | 최근 1일 | 시작일 ≤ 종료일 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 거래 ID | 텍스트 | 가능 | - |
| 기관 ID | 텍스트 | 가능 | - |
| 전문 ID | 텍스트 | 가능 | - |
| 처리 일시 | 날짜/시간 | 가능 | 기본 내림차순 |
| 처리 결과 | 상태 배지 | 불가 | 성공=초록, 실패=빨강 |
| 처리 시간(ms) | 숫자 | 가능 | - |

- 목록 클릭 시 동작: 상세 팝업 열림 (읽기 전용)
- 기본 정렬 기준: 처리 일시 내림차순
- 페이지당 기본 표시 건수: 20건

### 상세 팝업 (읽기 전용)

| 영역 | 설명 |
|------|------|
| 기본 정보 | 거래 ID, 기관 ID, 전문 ID, 처리 일시, 처리 결과, 처리 시간(ms) |
| 요청 전문 | 요청 전문 데이터를 필드 단위로 파싱하여 테이블 형태로 표시 (필드명, 필드값, 길이) |
| 응답 전문 | 응답 전문 데이터를 필드 단위로 파싱하여 테이블 형태로 표시 (필드명, 필드값, 길이) |
| 오류 정보 | 처리 결과가 실패인 경우 오류 코드, 오류 메시지 표시 |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 닫기 (팝업) | 팝업 열림 시 | 팝업 닫기 | 전체 |

### 개별 기능 요구사항

- 상세 팝업에서 요청/응답 전문을 필드 단위로 파싱하여 표시해야 한다. 각 필드는 필드명, 필드값, 길이 정보가 포함된 테이블 형태로 표시되어야 한다.
- 처리 결과가 실패인 경우 오류 코드 및 오류 메시지가 상세 팝업에 함께 표시되어야 한다.
- 대량 데이터 조회 시에도 응답 시간이 보장되어야 하며, 조회 기간 범위가 너무 넓을 경우 경고 메시지가 표시되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 로그 조회 결과가 5초 이내에 표시되어야 한다 |
| 조회 기간 제한 | 조회 기간이 7일을 초과할 경우 "조회 기간이 넓어 응답이 느릴 수 있습니다. 계속하시겠습니까?" 확인 팝업이 표시되어야 한다 |

