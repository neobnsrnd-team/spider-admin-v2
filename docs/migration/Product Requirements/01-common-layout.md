# 공통 레이아웃 요구사항

---

## 1. 공통 UI 요소 발굴

| 공통 UI 요소명 | 사용자 관점 설명 | 등장 화면 목록 | 공통 처리 여부 판단 근거 |
|----------------|-----------------|----------------|--------------------------|
| 데이터 목록 테이블 | 조회 결과를 행/열 형태로 표시하고 정렬/선택할 수 있는 표 | 거의 모든 화면 (35개+) | 모든 목록 화면에서 동일한 구조와 정렬/클릭 동작으로 사용됨 |
| 페이지 네비게이션 | 대량 데이터를 페이지 단위로 나누어 이동하는 컨트롤 | 거의 모든 목록 화면 (35개+) | 첫/이전/다음/마지막 및 페이지 번호 방식이 동일 |
| 검색 필터 영역 | 조건을 입력하여 목록을 필터링하는 입력 영역 | 거의 모든 목록 화면 (35개+) | 드롭다운+텍스트+버튼 조합이 반복됨 |
| 등록/수정 팝업(모달) | 데이터를 신규 등록하거나 기존 데이터를 수정하는 팝업 창 | 사용자, 역할, 메뉴, 코드, 배치, 게이트웨이, 오류 등 28개+ | 제목/폼/저장/삭제/닫기 구조가 동일 |
| 조회 건수 선택기 | 한 페이지에 표시할 데이터 건수를 선택하는 드롭다운 | 거의 모든 목록 화면 (35개+) | 10/20/50/100 옵션이 동일하게 반복 |
| 확인 팝업 | 삭제 등 위험한 작업 전 사용자에게 확인을 요청하는 팝업 | 삭제 기능이 있는 모든 화면 (28개+) | 동일한 확인/취소 패턴 |
| 사용 여부 표시 배지 | Y/N 값을 시각적 아이콘으로 표시하는 상태 표시기 | 메뉴, 코드, 배치, 게이트웨이, 인스턴스 등 18개+ | 초록/빨강 원형 아이콘 패턴 동일 |
| 항목 이동 위젯 | 좌/우 패널 간 항목을 이동시켜 선택하는 2패널 위젯 | 배치-WAS 인스턴스 할당, 게이트웨이-기관 연결, 역할-메뉴 권한 | 3개 화면에서 동일한 좌우 이동 구조 |
| 상위 항목 트리 선택 | 계층 구조 데이터에서 상위 항목을 트리 형태로 탐색/선택 | 메뉴 관리, 전문 관리, 업무분류 관리 | 3개 화면에서 동일한 트리 탐색/선택 패턴 |
| WAS Reload 확인 팝업 | 설정 변경 후 WAS 인스턴스에 반영을 요청하는 팝업 | 거래, 서비스, 게이트웨이 맵핑, APP 맵핑, 리스너 맵핑, XML 속성, Reload, 속성 등 8개+ | 인스턴스 선택 + 반영 결과 표시 패턴 동일 |
| 날짜 범위 검색 필터 | 시작일~종료일을 선택하여 조회 범위를 지정하는 입력 영역 | 배치 수행 내역, 오류 발생 현황, 에러 통계, 거래 중지 이력, 관리자 작업 이력, 핸들러 수행 내역 | 6개 화면에서 동일한 구조 |
| 탭 네비게이션 | 여러 화면을 탭으로 전환하며 동시에 열어두는 컨트롤 | 전체 레이아웃 (모든 화면에 적용) | 탭 추가/닫기/전환이 전역적으로 동작 |
| 상태 배지 | 상태값을 색상별 라벨로 시각 구분하여 표시하는 요소 | 배치 이력, 오류 현황, 거래 중지 상태 등 12개+ | 색상+텍스트 조합이 반복 |
| 드래그 앤 드롭 정렬 그리드 | 행을 드래그하여 순서를 변경할 수 있는 목록 | 서비스 관리(컴포넌트 순서), 전문 관리(필드 순서), 컴포넌트 관리(파라미터 순서) | 3개 화면에서 동일한 드래그 정렬 패턴 |
| 확장형 검색 영역 | 기본 검색 + 펼치기/접기로 추가 필터를 표시하는 영역 | 서비스 관리, 컴포넌트 관리, 거래 관리, 요청처리 APP 맵핑 | 4개 화면에서 2행 이상 검색 + 접기/펼치기 패턴 |
| 인라인 편집 그리드 | 셀을 직접 클릭하여 편집할 수 있는 목록 | XML 속성 항목, 긴급공지, 도메인 필드풀, 전문 필드, LABEL 언어별 텍스트 | 5개 화면에서 팝업 없이 그리드 내 직접 편집 |

---

## 2. 기본 페이지 구성 요소

| 구성 요소 | 위치 | 포함 내용 | 동작 요구사항 |
|-----------|------|-----------|---------------|
| 상단 바 | 화면 최상단 고정 | 접속 사용자 정보 표시, 로그아웃 버튼 | 스크롤 시에도 고정 유지되어야 한다. 사용자명이 "OOO 님께서 접속하셨습니다" 형식으로 표시되어야 한다. |
| 좌측 메뉴(사이드바) | 화면 좌측 고정 | 3단계 메뉴 트리 (대분류 > 중분류 > 소분류), 접기/펼치기 토글 | 메뉴는 사용자 권한에 따라 허가된 항목만 표시되어야 한다. 접기/펼치기 상태가 유지되어야 한다. 메뉴 클릭 시 해당 화면이 탭으로 열려야 한다. |
| 탭 바 | 상단 바 아래 | 열린 화면 목록(탭), 각 탭의 닫기(x) 버튼 | 탭 클릭 시 해당 화면으로 전환되어야 한다. 탭 닫기 시 해당 화면이 제거되어야 한다. 활성 탭이 시각적으로 구분되어야 한다. |
| 콘텐츠 영역 | 사이드바 우측, 탭 바 하단 | 선택된 탭에 해당하는 화면 본문 | 탭 전환 시 이전 화면 상태(검색 조건, 스크롤 위치 등)가 유지되어야 한다. |
| 페이지 제목 영역 | 콘텐츠 영역 최상단 | 영역 구분 제목 ("검색조건", "리스트" 등) | 각 영역의 시작 부분에 제목이 표시되어야 한다. |

---

## 3. 공통 레이아웃 규칙

### 반응형 지원
- 최소 1200px 이상의 해상도를 기준으로 설계되어야 한다.
- 1200px 미만에서는 사이드바가 접힌 상태로 표시되어야 한다.

### 콘텐츠 영역 정렬
- 콘텐츠 영역은 좌측 정렬되어야 하며, 가용 너비 전체를 사용하여야 한다.

### 로딩 상태 표시
- API 호출 중에는 해당 영역에 로딩 표시(스피너 등)가 나타나야 한다.
- 3초 이상 소요 시 진행 중임을 안내하는 메시지가 표시되어야 한다.

### 빈 데이터 표시
- 검색 전 초기 상태에서는 "조회 버튼을 클릭하여 데이터를 불러오세요" 메시지가 표시되어야 한다.
- 검색 결과가 없을 때는 "조회된 데이터가 없습니다" 메시지가 표시되어야 한다.

### 오류 발생 시 표시
- API 호출 실패 시 오류 메시지가 팝업 또는 토스트로 표시되어야 한다.
- 오류 메시지에는 구체적인 원인이 포함되어야 한다.

### 접근 권한 없을 때 표시
- 메뉴에 접근 권한이 없는 사용자에게는 해당 메뉴가 표시되지 않아야 한다.
- URL 직접 접근 시 "접근 권한이 없습니다" 메시지와 함께 이전 화면 또는 홈으로 이동되어야 한다.

---

## 4. 표준 화면 템플릿

> 개별 화면 요구사항은 아래 템플릿 중 하나를 기반으로 작성된다. 각 화면은 해당 화면 유형의 표준 구성을 따르며, 화면별 차이점만 개별적으로 기술한다.

### 템플릿 A: 표준 CRUD 화면

목록 조회 + 등록/수정/삭제 기능을 제공하는 가장 일반적인 화면 유형이다.

**표준 구성**

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 검색 유형 드롭다운 + 검색어 + 추가 필터 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 데이터 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 등록 버튼 |

**표준 버튼**

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 등록 | 항상 노출 | 등록 팝업 열기 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 저장 (팝업) | 팝업 열림 시 | 데이터 저장 | 쓰기 권한 |
| 삭제 (팝업) | 수정 모드 시 | 확인 팝업 후 삭제 | 쓰기 권한 |
| 닫기 (팝업) | 팝업 열림 시 | 팝업 닫기 | 전체 |

**표준 동작**
- 페이지당 기본 표시 건수: 20건
- 목록 행 클릭 시: 수정 팝업 열림
- 등록 팝업: 식별자 입력 가능, 삭제 버튼 숨김
- 수정 팝업: 식별자 읽기 전용, 삭제 버튼 표시
- 적용 화면: 메뉴, 역할, 사용자, 코드 그룹, 코드, 업무분류, WAS 그룹, WAS 인스턴스, 속성, 기관, 코드 맵핑, 게이트웨이, 게이트웨이 맵핑, 요청처리 APP 맵핑, 리스너/응답커넥터 맵핑, 전문처리핸들러, 거래 Validator, 거래 중지, 당발 대응답, 오류코드, 오류 핸들러, 현황판, 게시판, 게시판 권한, BIZ 컴포넌트, 컴포넌트, 도메인, LABEL

---

### 템플릿 B: 조회 전용 화면

데이터를 조회만 하고 등록/수정/삭제가 없는 화면 유형이다.

**표준 구성**

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 검색 조건 + 날짜 범위 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 데이터 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

**표준 버튼**

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

**표준 동작**
- 페이지당 기본 표시 건수: 20건
- 목록 행 클릭 시: 상세 팝업 열림 (읽기 전용)
- 등록/수정/삭제 버튼 없음
- 적용 화면: 관리자 작업 이력, 거래 중지 이력, 배치 수행 내역, 오류 발생 현황, 오류 핸들러 수행 내역, 에러 내역 통계, 거래 추적 로그 조회, WAS별 Gateway 정보

---

### 템플릿 C: 모니터링 화면

실시간 데이터를 표시하고 자동 갱신되는 대시보드형 화면 유형이다.

**표준 구성**

| 영역 | 설명 |
|------|------|
| 모니터링 대시보드 영역 | 실시간 데이터 표시 영역 |
| 상태 표시 영역 | 각 항목별 상태 시각화 |
| 제어 영역 | 새로고침 주기 설정, 수동 새로고침 버튼 |

**표준 동작**
- 5~10초 간격으로 자동 갱신
- 수동 새로고침 버튼 제공
- 비정상 상태 시각적 강조 (빨간색 배경 또는 깜빡임)
- 연결 끊김 시 "연결이 끊어졌습니다. 재연결 중..." 메시지 표시
- 적용 화면: 실행 중인 배치, WAS별 Gateway 모니터링

---

### 템플릿 D: 특수 화면

위 템플릿에 해당하지 않는 고유한 레이아웃을 가진 화면이다.

**해당 화면 목록**

| 화면명 | 레이아웃 유형 | 설명 |
|--------|--------------|------|
| 로그인 | 단일 카드 | 중앙 정렬된 로그인 폼 |
| 개인정보 수정 | 단일 폼 | 프로필 정보 편집 폼 |
| XML 속성 관리 | 좌우 분할 패널 | 좌측 파일 목록 + 우측 항목 편집 |
| 운영정보 Reload | 체크박스 + 결과 | Reload 대상/인스턴스 선택 + 결과 |
| 전문 테스트 | 목록 + 실행 패널 | 시나리오 목록 + 테스트 실행/결과 |
| 대시보드 | 카드 + 목록 조합 | 요약 카드 + 공지사항 + 바로가기 |
| 전송 데이터 생성 | 단계형 폼 | 대상 선택 → 생성 실행 → 진행 상태 |
| 전송 데이터 파일 | 파일 관리 | 파일 업로드 + 목록 + 진행 상태 |
| 게시판 열람/작성 | 게시판형 | 목록 + 상세 + 글쓰기 |
| 긴급공지 관리 | 인라인 편집 | 언어별 공지 인라인 그리드 + 미리보기 |

---

### 템플릿 E: 목록-상세 전환형 화면

목록 화면과 상세(등록/수정) 화면이 동일한 콘텐츠 영역 내에서 전환되는 화면 유형이다. 팝업 대신 전체 영역이 전환된다.

**표준 구성 - 목록 모드**

| 영역 | 설명 |
|------|------|
| 제목 영역 | 화면 제목 + 엑셀/출력/새로고침 버튼 |
| 검색 필터 영역 | 검색 유형 + 검색어 + 추가 필터 + 조회 건수 + 조회 버튼 |
| 목록 영역 | 데이터 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 등록 버튼 |

**표준 구성 - 상세 모드**

| 영역 | 설명 |
|------|------|
| 제목 영역 | "등록" 또는 "수정" 제목 |
| 기본 정보 폼 | 2열 격자 배열의 입력 폼 |
| 부가 정보 영역 | 인라인 편집 그리드, 다이어그램 등 (화면별 상이) |
| 버튼 영역 | 저장, 삭제(수정 시), 목록으로 돌아가기 버튼 |

**표준 동작**
- 목록에서 행 클릭 또는 등록 버튼 클릭 시: 상세 모드로 전환 (애니메이션 적용)
- 상세 모드에서 저장/삭제/목록 버튼 클릭 시: 목록 모드로 복귀
- 목록 모드 복귀 시 이전 검색 조건과 스크롤 위치가 유지되어야 한다
- 새로고침 버튼 클릭 시 상세 모드이면 "목록으로 이동하시겠습니까?" 확인 팝업 표시
- 적용 화면: 전문 관리, 거래 관리, 서비스 관리
