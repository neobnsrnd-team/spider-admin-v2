# [이력/감사 & 로그 관리] 화면 요구사항

---

## 관리자 작업 이력

**화면 목적**: 관리자의 시스템 조작 이력을 조회하는 화면이다.

**접근 경로**: GNB > 이력/감사 > 관리자 작업 이력

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 사용자 ID + 사용자명 + 조회 기간 (날짜 범위) + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 관리자 작업 이력 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 사용자 ID | 텍스트 입력 | 선택 | 빈 값 | - |
| 사용자명 | 텍스트 입력 | 선택 | 빈 값 | - |
| 조회 기간 | 날짜 범위 | 선택 | 최근 1개월 | 시작일 ≤ 종료일 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 사용자 ID | 텍스트 | 가능 | - |
| 사용자명 | 텍스트 | 가능 | - |
| 메뉴 | 텍스트 | 가능 | - |
| 작업 유형 | 텍스트 | 불가 | - |
| 대상 | 텍스트 | 불가 | - |
| 변경 항목 | 텍스트 | 불가 | - |
| 변경 전 값 | 텍스트 | 불가 | - |
| 변경 후 값 | 텍스트 | 불가 | - |
| 작업 일시 | 날짜/시간 | 가능 | 기본 내림차순 |

- 기본 정렬 기준: 작업 일시 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## 거래 중지 이력

**화면 목적**: 거래 중지/재개의 전체 이력을 조회하는 화면이다.

**접근 경로**: GNB > 이력/감사 > 거래 중지 이력

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 거래 ID + 중지 일자 (날짜 범위) + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 거래 중지 이력 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 거래 ID | 텍스트 입력 | 선택 | 빈 값 | - |
| 중지 일자 | 날짜 범위 | 선택 | 최근 1개월 | 시작일 ≤ 종료일 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 거래 ID | 텍스트 | 가능 | - |
| 거래명 | 텍스트 | 가능 | - |
| 중지 상태 | 상태 배지 | 불가 | - |
| 중지 예정일 | 날짜/시간 | 가능 | - |
| 중지 해제일 | 날짜/시간 | 가능 | - |

- 기본 정렬 기준: 중지 예정일 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## 중지거래 접근허용자 관리

**화면 목적**: 중지된 거래에 예외적으로 접근을 허용할 사용자를 관리하는 화면이다.

**접근 경로**: GNB > 이력/감사 > 중지거래 접근허용자 관리

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 검색 유형 + 검색어 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 접근허용자 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 등록 / Reload 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 검색 유형 | 드롭다운 (사용자 ID / 사용자명) | 선택 | 사용자 ID | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 사용자 ID | 텍스트 | 가능 | - |
| 사용자명 | 텍스트 | 가능 | - |
| 상태 | 상태 배지 | 불가 | 활성=초록, 비활성=빨강 |
| 최종 접속일 | 날짜/시간 | 가능 | - |

- 기본 정렬 기준: 사용자 ID 오름차순
- 페이지당 기본 표시 건수: 20건

### 개별 기능 요구사항

- 접근 허용자를 등록/삭제할 수 있어야 한다.
- 변경 후 WAS Reload를 요청할 수 있어야 한다.

### 등록 팝업

| 항목명 | 입력 유형 | 필수 여부 | 유효성 조건 |
|--------|-----------|-----------|-------------|
| 사용자 | 드롭다운 | 필수 | 사용자 목록에서 선택, API에서 동적 로드 |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 등록 | 항상 노출 | 접근허용자 등록 팝업 열기 | 쓰기 권한 |
| 삭제 | 목록에서 선택 시 | 확인 팝업 후 삭제 | 쓰기 권한 |
| Reload | 항상 노출 | WAS Reload 확인 팝업 열기 | 쓰기 권한 |

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## 웹로그 조회

**화면 목적**: 사용자의 웹 요청·응답 로그를 사용자 ID, 고객명 등으로 검색하여 조회하는 화면이다.

**접근 경로**: GNB > 로그 관리 > 웹로그 조회

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 전자금융 ID + 고객명 + 주민/사업자번호 + URL + 거래날짜 + 조회 건수 + 조회 버튼 |
| 시간대 선택 영역 | 확대/축소 가능, 24시간 체크박스 (복수 선택 가능) |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 웹로그 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 전자금융 ID | 텍스트 입력 | 선택 | 빈 값 | - |
| 고객명 | 텍스트 입력 | 선택 | 빈 값 | - |
| 주민/사업자번호 | 텍스트 입력 | 선택 | 빈 값 | - |
| URL | 텍스트 입력 | 선택 | 빈 값 | - |
| 거래날짜 | 날짜 선택 | 선택 | 오늘 | 최근 2주 이내 |
| 거래시간 | 체크박스 (0~23시) | 선택 | 전체 | 복수 선택 가능 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 거래추적번호 | 텍스트 | 가능 | - |
| 전자금융 ID | 텍스트 | 가능 | - |
| 이름 | 텍스트 | 가능 | - |
| 주민/사업자번호 | 텍스트 | 불가 | 마스킹 처리 |
| 구분 | 텍스트 | 불가 | 요청 / 응답 |
| 요청 URI | 텍스트 | 가능 | - |
| IP | 텍스트 | 불가 | - |
| 요청/응답 내역 | 텍스트 | 불가 | 클릭 시 상세 팝업 |

- 기본 정렬 기준: 거래추적번호 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 확대/축소 | 항상 노출 | 시간대 체크박스 영역 표시/숨김 | 전체 |
| 조회 | 항상 노출 | 검색 조건으로 로그 조회 | 전체 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 개별 기능 요구사항

- 거래 날짜는 최근 2주 이내만 조회할 수 있어야 한다.
- 시간대 체크박스는 "확대" 버튼으로 표시되고, "축소" 버튼으로 숨길 수 있어야 한다.
- 요청/응답 내역 클릭 시 상세 내용을 팝업으로 확인할 수 있어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 로그 조회 결과가 5초 이내에 표시되어야 한다 |

---

## 로그레벨 조정

**화면 목적**: WAS에서 사용 중인 로거(Logger)별 로그 레벨과 Additivity 설정을 조회하고 즉시 변경하는 화면이다.

**접근 경로**: GNB > 로그 관리 > 로그레벨 조정

**화면 유형**: 특수 화면 (템플릿 D - 인라인 편집)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 목록 영역 | 로거 목록 테이블 (인라인 편집 가능) |
| 페이지 네비게이션 | 목록 하단 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| Log Name | 텍스트 | 가능 | 로거 식별 이름 |
| Level | 드롭다운 (편집 가능) | 불가 | DEBUG / INFO / WARN / ERROR / OFF |
| 저장 | 버튼 | 불가 | 해당 행의 Level 즉시 저장 (쓰기 권한 보유자만 노출) |
| Additivity | 드롭다운 (편집 가능) | 불가 | true / false |
| 저장 | 버튼 | 불가 | 해당 행의 Additivity 즉시 저장 (쓰기 권한 보유자만 노출) |
| Appender | 텍스트 | 불가 | 연결된 Appender 목록 |

- 기본 정렬 기준: Log Name 오름차순
- 페이지당 기본 표시 건수: 30건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| Level 저장 | 쓰기 권한 보유 시 | 해당 로거의 레벨을 즉시 변경 저장 | 쓰기 권한 |
| Additivity 저장 | 쓰기 권한 보유 시 | 해당 로거의 Additivity를 즉시 변경 저장 | 쓰기 권한 |

### 개별 기능 요구사항

- 각 행에서 Level과 Additivity를 드롭다운으로 선택하고, 행 단위의 저장 버튼으로 즉시 적용할 수 있어야 한다.
- 레벨 변경은 WAS 재시작 없이 실시간으로 반영되어야 한다.
- 쓰기 권한이 없는 사용자는 저장 버튼이 비활성화되거나 숨겨져야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 로그 레벨 변경이 2초 이내에 반영되어야 한다 |

---

## 전문로그 조회(DB)

**화면 목적**: 기관·거래 단위로 전문 송수신 로그를 데이터베이스에서 검색하고, 상세 전문 내용을 확인하는 화면이다.

**접근 경로**: GNB > 로그 관리 > 전문로그 조회(DB)

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 기본: 사용자ID + 거래추적번호 + 글로벌ID |
| 확장 검색 영역 | 확대 시: 기관ID + 기관전문ID + 거래일시 범위 + 거래시간 범위 |
| 도구 모음 | 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 전문 로그 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 사용자 ID | 텍스트 입력 | 선택 | 빈 값 | - |
| 거래추적번호 | 텍스트 입력 | 선택 | 빈 값 | - |
| 글로벌 ID | 텍스트 입력 | 선택 | 빈 값 | - |
| 기관 ID | 텍스트 입력 | 선택 (확장) | 빈 값 | - |
| 기관전문 ID | 텍스트 입력 | 선택 (확장) | 빈 값 | - |
| 거래일시 | 날짜 범위 | 선택 (확장) | 오늘 | 시작일 ≤ 종료일 |
| 거래시간 | 시간 범위 (HHMM 형식) | 선택 (확장) | - | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 거래추적번호 | 텍스트 | 가능 | - |
| 거래 ID | 텍스트 | 가능 | - |
| 기관 ID | 텍스트 | 가능 | 기동/수동 구분 아이콘 |
| 기관전문 ID | 텍스트 | 가능 | - |
| 사용자 ID | 텍스트 | 가능 | - |
| 거래일자 | 날짜 | 가능 | - |
| 수행결과코드 | 텍스트 | 가능 | - |

- 목록 클릭 시 동작: 전문 송수신 로그 상세 팝업 열림
- 기본 정렬 기준: 거래일자 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 확대/축소 | 항상 노출 | 확장 검색 영역 표시/숨김 | 전체 |
| 조회 | 항상 노출 | 검색 조건으로 로그 조회 | 전체 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 개별 기능 요구사항

- 목록 행 클릭 시 해당 거래의 전문 송신 내용과 수신 내용을 비교할 수 있는 상세 팝업이 열려야 한다.
- 거래 기동/수동 여부가 아이콘으로 구분되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 로그 조회 결과가 5초 이내에 표시되어야 한다 |
