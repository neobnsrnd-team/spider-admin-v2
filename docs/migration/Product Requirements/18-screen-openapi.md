# [Open API 관리] 화면 요구사항

---

## API 관리

**화면 목적**: 시스템에서 외부 제휴기관에 제공하는 API를 등록하고, URL·HTTP 메소드·사용 여부·토큰 발급 여부 등을 관리하는 화면이다.

**접근 경로**: GNB > Open API 관리 > API 관리

**화면 ID**: FWKO0100

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, API명/API ID 검색 유형 + 검색어 + URL 검색 + 메소드 드롭다운 + 사용 여부 드롭다운 + 토큰 유형 드롭다운 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, API 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 등록 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 검색 유형 | 드롭다운 (API명 / API ID) | 선택 | API명 | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |
| URL | 텍스트 입력 | 선택 | 빈 값 | - |
| 메소드 | 드롭다운 (전체 / GET / POST / PUT / DELETE) | 선택 | 전체 | - |
| 사용 여부 | 드롭다운 (전체 / 사용 / 미사용) | 선택 | 전체 | - |
| 토큰 유형 | 드롭다운 (전체 + 토큰 유형 목록) | 선택 | 전체 | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| API ID | 텍스트 | 가능 | - |
| API명 | 텍스트 | 가능 | - |
| URL | 텍스트 | 가능 | 좌측 정렬 |
| 메소드 | 텍스트 | 가능 | GET / POST / PUT / DELETE |
| 사용 여부 | 상태 아이콘 | 불가 | 초록/빨강 원형 아이콘 |
| 토큰 발급 여부 | 상태 아이콘 | 불가 | 초록/빨강 원형 아이콘 |
| 최종 수정일시 | 날짜/시간 | 가능 | - |

- 목록 클릭 시 동작: API 수정 팝업 열림
- 기본 정렬 기준: API ID 오름차순
- 페이지당 기본 표시 건수: 20건

### 등록 / 수정 팝업

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| API ID | 텍스트 입력 | 필수 | 등록 시만 가능 | 영문/숫자, 최대 50자, 중복 불가 |
| API명 | 텍스트 입력 | 필수 | 가능 | 최대 100자 |
| URL | 텍스트 입력 | 필수 | 가능 | 최대 500자 |
| 메소드 | 드롭다운 (GET / POST / PUT / DELETE) | 필수 | 가능 | - |
| 사용 여부 | 드롭다운 (Y/N) | 필수 | 가능 | 기본값: Y |
| 토큰 발급 여부 | 드롭다운 (Y/N) | 필수 | 가능 | 기본값: N |
| 토큰 유형 | 드롭다운 | 선택 | 가능 | 토큰 발급 여부가 Y인 경우에만 활성화 |
| 설명 | 텍스트 영역 | 선택 | 가능 | 최대 500자 |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 등록 | 항상 노출 | API 등록 팝업 열기 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 저장 (팝업) | 팝업 열림 시 | API 정보 저장 | 쓰기 권한 |
| 삭제 (팝업) | 수정 모드 시 | 확인 팝업 후 API 삭제 | 쓰기 권한 |

### 개별 기능 요구사항

- API ID는 등록 후 변경할 수 없으며, 중복 검사가 수행되어야 한다.
- 토큰 발급 여부를 Y로 설정한 경우 토큰 유형 드롭다운이 활성화되어야 한다.
- API가 제휴기관 권한에 등록된 경우 삭제 시 경고 메시지가 표시되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | API 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## API 그룹 관리

**화면 목적**: API를 그룹으로 묶어 분류하고 관리하는 화면이다.

**접근 경로**: GNB > Open API 관리 > API 그룹 관리

**화면 ID**: FWKO0200

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 검색 유형 드롭다운 + 검색어 + 상태 드롭다운 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, API 그룹 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 등록 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 검색 유형 | 드롭다운 (그룹명 / 그룹 ID) | 선택 | 그룹명 | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |
| 상태 | 드롭다운 (전체 / 활성 / 비활성) | 선택 | 전체 | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 그룹 ID | 텍스트 | 가능 | - |
| 그룹명 | 텍스트 | 가능 | - |
| 설명 | 텍스트 | 가능 | - |
| 상태 | 상태 배지 | 불가 | 활성=초록, 비활성=빨강 |
| API 수 | 숫자 | 가능 | 해당 그룹에 속한 API 건수 |
| 최종 수정일시 | 날짜/시간 | 가능 | - |

- 목록 클릭 시 동작: API 그룹 수정 팝업 열림
- 기본 정렬 기준: 그룹 ID 오름차순
- 페이지당 기본 표시 건수: 20건

### 등록 / 수정 팝업

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| 그룹 ID | 텍스트 입력 | 필수 | 등록 시만 가능 | 영문/숫자, 최대 50자, 중복 불가 |
| 그룹명 | 텍스트 입력 | 필수 | 가능 | 최대 100자, 중복 불가 |
| 설명 | 텍스트 영역 | 선택 | 가능 | 최대 500자 |
| 상태 | 드롭다운 (활성 / 비활성) | 필수 | 가능 | 기본값: 활성 |

### API 목록 관리 (수정 팝업 내 하단 섹션)

수정 모드에서 해당 그룹에 속한 API 목록이 팝업 하단에 표시되며, API를 추가/제거할 수 있다.

| 컬럼명 | 데이터 유형 | 비고 |
|--------|-------------|------|
| API ID | 텍스트 | - |
| API명 | 텍스트 | - |
| URL | 텍스트 | - |
| 제거 | 버튼 | 그룹에서 해당 API 제거 |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 등록 | 항상 노출 | API 그룹 등록 팝업 열기 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 저장 (팝업) | 팝업 열림 시 | 그룹 정보 저장 | 쓰기 권한 |
| 삭제 (팝업) | 수정 모드 시 | 확인 팝업 후 그룹 삭제 | 쓰기 권한 |
| API 추가 (팝업) | 수정 모드 시 | API 선택 팝업 열기 | 쓰기 권한 |

### 개별 기능 요구사항

- 그룹 ID 및 그룹명은 중복 검사가 수행되어야 한다.
- 수정 모드에서 API 추가 버튼 클릭 시 등록된 API 목록 선택 팝업이 표시되어야 한다.
- 그룹 삭제 시 해당 그룹에 속한 API가 있을 경우 경고 메시지가 표시되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 그룹 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## 제휴기관 권한 관리

**화면 목적**: 제휴기관이 이용할 수 있는 API 권한을 등록하고, 사용 기간을 설정하며, 변경 이력을 관리하는 화면이다.

**접근 경로**: GNB > Open API 관리 > 제휴기관 권한 관리

**화면 ID**: FWKO0601

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 제휴기관관리번호 + 기관명 + API명 검색 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 제휴기관 권한 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 등록 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 제휴기관관리번호 | 텍스트 입력 | 선택 | 빈 값 | - |
| 기관명 | 텍스트 입력 | 선택 | 빈 값 | - |
| API명 | 텍스트 입력 | 선택 | 빈 값 | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 제휴기관관리번호 | 텍스트 | 가능 | - |
| 제휴사명 | 텍스트 | 가능 | - |
| API ID | 텍스트 | 가능 | - |
| API명 | 텍스트 | 가능 | - |
| 사용시작일 | 날짜 | 가능 | yyyy-MM-dd 형식 |
| 사용종료일 | 날짜 | 가능 | yyyy-MM-dd 형식 |
| 변경일시 | 날짜/시간 | 가능 | 기본 내림차순 |

- 목록 클릭 시 동작: 제휴기관 권한 수정 팝업 열림
- 기본 정렬 기준: 변경일시 내림차순
- 페이지당 기본 표시 건수: 20건

### 등록 / 수정 팝업

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| 제휴기관 | 드롭다운 (제휴기관 목록) | 필수 | 등록 시만 가능 | 제휴기관 목록에서 선택 |
| API | 드롭다운 (API 목록) | 필수 | 등록 시만 가능 | 사용 중인 API 목록에서 선택 |
| 사용시작일 | 날짜 선택 | 필수 | 가능 | yyyy-MM-dd 형식 |
| 사용종료일 | 날짜 선택 | 선택 | 가능 | 사용시작일 이후 |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 등록 | 항상 노출 | 제휴기관 권한 등록 팝업 열기 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 저장 (팝업) | 팝업 열림 시 | 권한 정보 저장 | 쓰기 권한 |
| 삭제 (팝업) | 수정 모드 시 | 확인 팝업 후 권한 삭제 | 쓰기 권한 |

### 개별 기능 요구사항

- 동일 제휴기관-API 조합에 대해 기간이 중복되는 권한은 등록이 거부되어야 하며 경고 메시지가 표시되어야 한다.
- 사용종료일이 사용시작일보다 이전일 경우 "종료일은 시작일 이후여야 합니다" 메시지가 표시되어야 한다.
- 현재 사용 기간 내에 있는 권한은 목록에서 활성 상태로 시각적으로 구분되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 권한 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## 제휴기관 권한 이력 관리

**화면 목적**: 제휴기관의 API 권한 변경 이력을 조회하는 화면이다 (조회 전용).

**접근 경로**: GNB > Open API 관리 > 제휴기관 권한 이력 관리

**화면 ID**: FWKO0701

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 제휴기관관리번호 + 기관명 + 조회 기간 (날짜 범위) + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 권한 이력 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 제휴기관관리번호 | 텍스트 입력 | 선택 | 빈 값 | - |
| 기관명 | 텍스트 입력 | 선택 | 빈 값 | - |
| 조회 기간 | 날짜 범위 | 선택 | 최근 1개월 | 시작일 ≤ 종료일 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 제휴기관관리번호 | 텍스트 | 가능 | - |
| 제휴사명 | 텍스트 | 가능 | - |
| API ID | 텍스트 | 가능 | - |
| API명 | 텍스트 | 가능 | - |
| 사용시작일 | 날짜 | 가능 | - |
| 사용종료일 | 날짜 | 가능 | - |
| 이력 구분 | 텍스트 | 가능 | 등록 / 수정 / 삭제 |
| 변경일시 | 날짜/시간 | 가능 | 기본 내림차순 |
| 변경자 | 텍스트 | 가능 | 변경한 관리자 ID |

- 기본 정렬 기준: 변경일시 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 이력 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## API 사용 이력 관리

**화면 목적**: 제휴기관별 API 호출 이력을 조회하는 화면이다 (조회 전용).

**접근 경로**: GNB > Open API 관리 > API 사용 이력 관리

**화면 ID**: FWKO0801

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 제휴기관 선택 + API 선택 + 거래추적번호 + 조회 기간 (날짜 범위) + 시각 범위 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, API 사용 이력 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 제휴기관 | 드롭다운 (전체 + 제휴기관 목록) | 선택 | 전체 | - |
| API | 드롭다운 (전체 + API 목록) | 선택 | 전체 | - |
| 거래추적번호 | 텍스트 입력 | 선택 | 빈 값 | - |
| 조회 기간 | 날짜 범위 | 선택 | 오늘 | 시작일 ≤ 종료일 |
| 시각 범위 | 시간 범위 (HH:mm ~ HH:mm) | 선택 | 빈 값 | 시작 시각 ≤ 종료 시각 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 거래추적번호 | 텍스트 | 가능 | - |
| 제휴기관 | 텍스트 | 가능 | 제휴사명 |
| API ID | 텍스트 | 가능 | - |
| API명 | 텍스트 | 가능 | - |
| 거래일시 | 날짜/시간 | 가능 | 기본 내림차순 |
| 응답코드 | 텍스트 | 가능 | 정상 응답 코드 또는 오류 코드 |
| 처리 시간 | 숫자 | 가능 | 밀리초 단위 |

- 목록 행 클릭 시 요청/응답 전문 상세 팝업이 표시될 수 있어야 한다.
- 기본 정렬 기준: 거래일시 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 개별 기능 요구사항

- 응답코드가 오류인 경우 해당 행은 시각적으로 강조 표시(빨간색 배지 등)되어야 한다.
- 목록 행 클릭 시 요청 전문과 응답 전문을 함께 확인할 수 있는 상세 팝업이 표시되어야 한다.
- 대용량 조회 방지를 위해 조회 기간이 설정되지 않은 경우 오늘 날짜로 자동 설정되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | API 사용 이력 조회 결과가 3초 이내에 표시되어야 한다 |
| 대용량 처리 | 대량 데이터 조회 시 페이지 단위로 처리되어야 한다 |

---

## API 거래 토큰 발급 이력 관리

**화면 목적**: API 거래에 사용된 토큰의 발급 및 만료 이력을 조회하는 화면이다 (조회 전용).

**접근 경로**: GNB > Open API 관리 > API 거래 토큰 발급 이력 관리

**화면 ID**: FWKO0901

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 거래 토큰 + 만료 여부 드롭다운 + 제휴기관 + 발급 기간 (날짜 범위) + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 토큰 발급 이력 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 거래 토큰 | 텍스트 입력 | 선택 | 빈 값 | - |
| 만료 여부 | 드롭다운 (전체 / 유효 / 만료) | 선택 | 전체 | - |
| 제휴기관 | 드롭다운 (전체 + 제휴기관 목록) | 선택 | 전체 | - |
| 발급 기간 | 날짜 범위 | 선택 | 최근 1개월 | 시작일 ≤ 종료일 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 거래 토큰 | 텍스트 | 가능 | 토큰 값 (일부 마스킹 표시 가능) |
| API ID | 텍스트 | 가능 | - |
| API명 | 텍스트 | 가능 | - |
| 제휴회원 CI | 텍스트 | 가능 | 제휴 회원 식별 정보 |
| 상태 | 상태 배지 | 불가 | 유효=초록, 만료=빨강 |
| 발급시각 | 날짜/시간 | 가능 | 기본 내림차순 |
| 만료시각 | 날짜/시간 | 가능 | - |

- 기본 정렬 기준: 발급시각 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 개별 기능 요구사항

- 만료된 토큰과 유효한 토큰은 상태 배지로 시각적으로 구분되어야 한다.
- 현재 시각 기준으로 만료시각이 경과된 토큰은 자동으로 만료 상태로 표시되어야 한다.
- 목록 행 클릭 시 토큰의 상세 정보(발급 경위, 연결된 API, 사용 이력 요약 등)를 확인하는 상세 팝업이 표시될 수 있어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 토큰 이력 조회 결과가 3초 이내에 표시되어야 한다 |
