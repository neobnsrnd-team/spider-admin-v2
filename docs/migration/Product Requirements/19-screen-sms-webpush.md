# [SMS 관리 / WebPush 관리] 화면 요구사항

---

## SMS 사용자 관리

**화면 목적**: 시스템에서 SMS를 발송할 수신 대상 사용자 정보를 등록, 수정, 삭제하는 화면이다. 인라인 편집 방식의 그리드로 다수의 SMS 사용자를 한 화면에서 직접 관리할 수 있다.

**접근 경로**: GNB > SMS 관리 > SMS 사용자 관리

**화면 ID**: FDSM0170

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조) - 인라인 편집 그리드 방식

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, SMS 사용자명/ID/설명 검색 유형 드롭다운 + 검색어 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, SMS 사용자 목록 인라인 편집 그리드 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 행 추가 / 선택 행 삭제 / 저장 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 검색 유형 | 드롭다운 (SMS 사용자명 / SMS 사용자 ID / 설명) | 선택 | SMS 사용자명 | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |

### 목록 표시 (인라인 편집 그리드)

| 컬럼명 | 데이터 유형 | 편집 가능 | 필수 여부 | 유효성 조건 |
|--------|-------------|-----------|-----------|-------------|
| SMS 사용자 ID | 텍스트 | 신규 행만 가능 | 필수 | 영문/숫자, 최대 50자, 중복 불가 |
| SMS 사용자명 | 텍스트 | 가능 | 필수 | 최대 100자 |
| 설명 | 텍스트 | 가능 | 선택 | 최대 200자 |
| 국가 전화번호 | 텍스트 | 가능 | 선택 | 예: +82 |
| 수신 전화번호 | 텍스트 | 가능 | 필수 | 숫자, 최대 20자 |
| 지점/부서 | 텍스트 | 가능 | 선택 | 최대 100자 |

- 각 행을 클릭하면 해당 셀이 편집 모드로 전환된다.
- 신규 추가된 행은 행 배경이 시각적으로 구분된다.
- 기본 정렬 기준: SMS 사용자 ID 오름차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 행 추가 | 항상 노출 | 그리드 하단에 빈 입력 행 추가 | 쓰기 권한 |
| 선택 행 삭제 | 행 체크박스 선택 시 | 선택된 행 삭제 (확인 팝업 표시 후 처리) | 쓰기 권한 |
| 저장 | 항상 노출 | 추가/수정된 모든 행을 일괄 저장 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 개별 기능 요구사항

- 행 추가 버튼 클릭 시 그리드 마지막 행에 빈 입력 행이 추가되며, 사용자가 셀을 직접 입력한다.
- 선택 행 삭제 시 "선택한 {N}건을 삭제하시겠습니까?" 확인 팝업이 표시되어야 한다.
- 저장 버튼 클릭 시 추가/수정된 행 전체가 일괄 저장되며, 유효성 검사 오류가 있는 행은 해당 셀에 오류 표시가 나타나야 한다.
- SMS 사용자 ID는 저장 전 중복 검사가 수행되어야 한다.
- 변경 사항이 있는 상태에서 다른 메뉴로 이동하려 하면 "저장되지 않은 변경사항이 있습니다. 이동하시겠습니까?" 경고가 표시되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | SMS 사용자 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## SMS 메시지 관리

**화면 목적**: SMS 발송에 사용되는 메시지 템플릿을 등록하고, 해당 메시지를 수신할 SMS 사용자를 맵핑하여 관리하는 화면이다.

**접근 경로**: GNB > SMS 관리 > SMS 메시지 관리

**화면 ID**: FDSM0180

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, SMS ID/명/설명 검색 유형 드롭다운 + 검색어 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, SMS 메시지 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |
| 버튼 영역 | 목록 하단, 등록 버튼 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 검색 유형 | 드롭다운 (SMS ID / SMS명 / 설명) | 선택 | SMS명 | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| SMS ID | 텍스트 | 가능 | - |
| SMS명 | 텍스트 | 가능 | - |
| SMS 설명 | 텍스트 | 가능 | - |
| 수신자 수 | 숫자 | 가능 | 맵핑된 SMS 사용자 수 |
| SMS 사용자 맵핑 | 버튼 | 불가 | "맵핑 관리" 버튼 클릭 시 수신자 맵핑 팝업 열림 |
| 최종 수정일시 | 날짜/시간 | 가능 | - |

- 목록 클릭 시 동작: SMS 메시지 수정 팝업 열림
- 기본 정렬 기준: SMS ID 오름차순
- 페이지당 기본 표시 건수: 20건

### 등록 / 수정 팝업

| 항목명 | 입력 유형 | 필수 여부 | 수정 가능 여부 | 유효성 조건 |
|--------|-----------|-----------|----------------|-------------|
| SMS ID | 텍스트 입력 | 필수 | 등록 시만 가능 | 영문/숫자, 최대 50자, 중복 불가 |
| SMS명 | 텍스트 입력 | 필수 | 가능 | 최대 100자 |
| SMS 설명 | 텍스트 영역 | 선택 | 가능 | 최대 500자 |
| 메시지 내용 템플릿 | 텍스트 영역 | 선택 | 가능 | 최대 2000자, 치환 변수(예: {거래ID}) 사용 가능 |
| 사용 여부 | 드롭다운 (Y/N) | 필수 | 가능 | 기본값: Y |

### SMS 사용자 맵핑 팝업

SMS 메시지에 수신자로 등록할 SMS 사용자를 추가/제거하는 팝업이다.

| 영역 | 설명 |
|------|------|
| 좌측 패널 | 전체 SMS 사용자 목록 (검색 가능) |
| 가운데 | 항목 이동 위젯 (추가/제거 버튼) |
| 우측 패널 | 현재 메시지에 맵핑된 SMS 사용자 목록 |

| 버튼명 | 클릭 동작 |
|--------|-----------|
| 추가 (→) | 좌측에서 선택된 사용자를 우측으로 이동 |
| 제거 (←) | 우측에서 선택된 사용자를 좌측으로 이동 |
| 저장 | 맵핑 정보 저장 후 팝업 닫기 |
| 취소 | 변경사항 저장 없이 팝업 닫기 |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 등록 | 항상 노출 | SMS 메시지 등록 팝업 열기 | 쓰기 권한 |
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 저장 (팝업) | 팝업 열림 시 | SMS 메시지 정보 저장 | 쓰기 권한 |
| 삭제 (팝업) | 수정 모드 시 | 확인 팝업 후 메시지 삭제 | 쓰기 권한 |
| 맵핑 관리 | 목록 행 내 | SMS 사용자 맵핑 팝업 열기 | 쓰기 권한 |

### 개별 기능 요구사항

- SMS ID는 등록 후 변경할 수 없으며, 중복 검사가 수행되어야 한다.
- 메시지 내용에 치환 변수(예: {거래ID}, {오류코드})를 사용할 수 있으며, 팝업 내 치환 변수 목록이 안내되어야 한다.
- 맵핑 관리 팝업에서 항목 이동 위젯을 사용하여 수신자를 추가/제거할 수 있어야 한다.
- 맵핑된 수신자가 없는 메시지에 대해 목록에서 시각적 구분 표시가 되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | SMS 메시지 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## PUSH 연결상태 관리

**화면 목적**: 시스템에 연결된 웹푸시(WebPush) 클라이언트의 연결 상태를 조회하고 상세 정보를 확인하는 화면이다 (조회 전용).

**접근 경로**: GNB > WebPush 관리 > PUSH 연결상태 관리

**화면 ID**: FWKR0010

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 연결 Key + 연결 상태 드롭다운 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, PUSH 연결상태 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 연결 Key | 텍스트 입력 | 선택 | 빈 값 | - |
| 연결 상태 | 드롭다운 (전체 + 연결 상태 코드 목록) | 선택 | 전체 | 연결 상태 코드는 공통 코드에서 동적 로드 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 연결 Key | 텍스트 | 가능 | 클릭 시 상세 팝업 표시 |
| 연결 상태 코드 | 상태 배지 | 가능 | 연결 중=초록, 끊김=빨강, 기타=회색 |
| 최종 접속 일시 | 날짜/시간 | 가능 | 기본 내림차순 |
| 접속 WAS 인스턴스 | 텍스트 | 가능 | WAS 인스턴스 ID |
| 접속 IP | 텍스트 | 가능 | 클라이언트 접속 IP |
| 최종 수정자 ID | 텍스트 | 가능 | - |
| 최종 수정 일시 | 날짜/시간 | 가능 | - |

- 목록 행 클릭 시 해당 연결 Key의 상세 정보 팝업이 표시되어야 한다.
- 기본 정렬 기준: 최종 접속 일시 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 개별 기능 요구사항

- 연결 상태가 "연결 중"인 항목과 "끊김"인 항목은 상태 배지 색상으로 시각적으로 구분되어야 한다.
- 목록 행 클릭 시 해당 연결 Key에 대한 연결 이력, 접속 정보 등을 확인하는 상세 팝업이 표시될 수 있어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | PUSH 연결상태 목록 조회 결과가 3초 이내에 표시되어야 한다 |

---

## PUSH 연결상태 이력

**화면 목적**: 웹푸시 연결 Key별 연결 상태 변경 이력을 조회하는 화면이다 (조회 전용).

**접근 경로**: GNB > WebPush 관리 > PUSH 연결상태 이력

**화면 ID**: FWKR0020

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 연결 Key + WAS 인스턴스 ID + 상태 코드 드롭다운 + 날짜/시간 범위 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 연결상태 이력 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 연결 Key | 텍스트 입력 | 선택 | 빈 값 | - |
| WAS 인스턴스 ID | 텍스트 입력 | 선택 | 빈 값 | - |
| 상태 코드 | 드롭다운 (전체 + 상태 코드 목록) | 선택 | 전체 | - |
| 날짜/시간 범위 | 날짜/시간 범위 | 선택 | 최근 1일 | 시작 ≤ 종료 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 연결 Key | 텍스트 | 가능 | - |
| 연결 시퀀스 | 숫자 | 가능 | 이력 순번 |
| 접속 일자 | 날짜/시간 | 가능 | 기본 내림차순 |
| 연결 상태 코드 | 상태 배지 | 가능 | 연결/끊김/기타 배지 |
| 접속 WAS | 텍스트 | 가능 | WAS 인스턴스 ID |
| 접속 IP | 텍스트 | 가능 | - |

- 기본 정렬 기준: 접속 일자 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 개별 기능 요구사항

- 대용량 이력 데이터 조회 방지를 위해 날짜/시간 범위 기본값은 최근 1일로 설정되어야 한다.
- 날짜/시간 범위가 7일을 초과하는 경우 경고 메시지가 표시되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 연결상태 이력 조회 결과가 3초 이내에 표시되어야 한다 |

---

## PUSH 발송이력

**화면 목적**: 시스템에서 발송된 웹푸시 메시지의 발송 이력을 조회하는 화면이다 (조회 전용).

**접근 경로**: GNB > WebPush 관리 > PUSH 발송이력

**화면 ID**: FWKR0040

**화면 유형**: 조회 전용 화면 (템플릿 B 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, PUSH 타입 드롭다운 + 고객번호 + PUSH 상태 드롭다운 + WAS 인스턴스 드롭다운 + 발송 일시 범위 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, PUSH 발송이력 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| PUSH 타입 | 드롭다운 (전체 + PUSH 타입 목록) | 선택 | 전체 | - |
| 고객번호 | 텍스트 입력 | 선택 | 빈 값 | - |
| PUSH 상태 | 드롭다운 (전체 / 성공 / 실패 / 대기) | 선택 | 전체 | - |
| WAS 인스턴스 | 드롭다운 (전체 + WAS 인스턴스 목록) | 선택 | 전체 | WAS 인스턴스 목록은 동적 로드 |
| 발송 일시 범위 | 날짜/시간 범위 | 선택 | 오늘 | 시작 ≤ 종료 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| PUSH 타입 | 텍스트 | 가능 | - |
| 고객번호 | 텍스트 | 가능 | - |
| PUSH 상태 | 상태 배지 | 가능 | 성공=초록, 실패=빨강, 대기=노랑 |
| WAS 인스턴스 ID | 텍스트 | 가능 | 발송을 처리한 WAS |
| 최종 발송 일시 | 날짜/시간 | 가능 | 기본 내림차순 |
| 발송 내용 | 텍스트 | 불가 | 일부 미리보기 (클릭 시 전체 내용 팝업) |

- 목록 행 클릭 시 발송된 PUSH 메시지의 전체 내용을 확인하는 상세 팝업이 표시되어야 한다.
- 기본 정렬 기준: 최종 발송 일시 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |

### 개별 기능 요구사항

- PUSH 상태가 "실패"인 항목은 목록에서 빨간 배지로 시각적으로 강조되어야 한다.
- 목록 행 클릭 시 발송 대상, 발송 내용 전문, 발송 결과 코드를 확인하는 상세 팝업이 표시되어야 한다.
- 대용량 이력 데이터 조회 방지를 위해 발송 일시 범위 기본값은 오늘로 설정되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | PUSH 발송이력 조회 결과가 3초 이내에 표시되어야 한다 |
