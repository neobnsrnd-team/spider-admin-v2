# 공통 UI 컴포넌트 요구사항

---

## 1. 데이터 목록 테이블

**정의**: 조회 결과 데이터를 행과 열로 구조화하여 표시하고, 정렬 및 행 선택 기능을 제공하는 표 형태의 데이터 표시 영역이다.

**사용 화면**: 목록 조회가 존재하는 거의 모든 화면 (사용자, 역할, 메뉴, 코드, 배치, 거래, 전문, 게이트웨이, 오류 등 35개 이상)

**요구사항**
- 각 열의 헤더를 클릭하면 해당 열 기준으로 오름차순/내림차순 정렬이 전환되어야 한다 (3단계: 오름차순 → 내림차순 → 정렬 해제).
- 정렬 상태가 헤더에 화살표 아이콘(▲/▼)으로 표시되어야 한다.
- 데이터 행 클릭 시 상세 정보 팝업이 열리거나 지정된 동작이 수행되어야 한다.
- 행에 마우스를 올리면 배경색이 변경되어 현재 위치가 시각적으로 구분되어야 한다.
- 짝수/홀수 행의 배경색이 구분되어 가독성이 확보되어야 한다.
- 데이터가 없을 때 빈 상태 메시지가 표시되어야 한다.
- 열 너비는 데이터 유형에 따라 적절히 설정되어야 한다.
- 텍스트가 열 너비를 초과할 경우 말줄임(...)으로 처리되어야 한다.
- 말줄임 처리된 셀에 마우스를 올리면 전체 텍스트가 툴팁으로 표시되어야 한다.

---

## 2. 페이지 네비게이션

**정의**: 대량의 데이터를 일정 건수 단위로 분할하여 사용자가 페이지를 이동할 수 있게 하는 네비게이션 컨트롤이다.

**사용 화면**: 데이터 목록 테이블이 있는 모든 화면

**요구사항**
- 첫 페이지, 이전 페이지, 다음 페이지, 마지막 페이지 이동 버튼이 제공되어야 한다.
- 현재 페이지 주변의 페이지 번호가 최대 10개까지 표시되어야 한다.
- 현재 페이지 번호가 시각적으로 강조되어야 한다.
- 첫 페이지에서는 첫 페이지/이전 페이지 버튼이 비활성화되어야 한다.
- 마지막 페이지에서는 다음 페이지/마지막 페이지 버튼이 비활성화되어야 한다.
- "X - Y / 전체 Z건" 형식으로 현재 조회 범위와 전체 건수가 표시되어야 한다.
- 새로고침 버튼을 클릭하면 현재 페이지가 다시 조회되어야 한다.

---

## 3. 검색 필터 영역

**정의**: 조회 조건을 입력하여 목록 데이터를 필터링하는 입력 폼 영역이다. 드롭다운, 텍스트 입력, 날짜 선택 등의 필터 항목으로 구성된다.

**사용 화면**: 목록 조회가 존재하는 모든 화면

**요구사항**
- 검색 항목은 한 행에 수평 배치되어야 한다 (항목이 많을 경우 2행까지 허용).
- 조회 버튼 클릭 또는 텍스트 입력 필드에서 Enter 키 입력 시 검색이 실행되어야 한다.
- 검색 실행 시 페이지가 1페이지로 초기화되어야 한다.
- 조회 건수 선택 드롭다운이 검색 영역 우측에 배치되어야 한다.
- 검색 조건은 화면 전환 후 복귀 시에도 유지되어야 한다.

---

## 4. 조회 건수 선택기

**정의**: 한 페이지에 표시할 데이터 건수를 사용자가 선택할 수 있는 드롭다운이다.

**사용 화면**: 모든 목록 화면

**요구사항**
- 10, 20, 50, 100건 옵션이 제공되어야 한다 (화면에 따라 200, 500, 1000건 추가 가능).
- 기본값은 20건이어야 한다.
- 건수 변경 시 1페이지부터 다시 조회되어야 한다.
- 선택기 옆에 "건씩" 라벨이 표시되어야 한다.

---

## 5. 등록/수정 팝업(모달)

**정의**: 데이터를 신규 등록하거나 기존 데이터를 수정할 때 사용하는 팝업 창이다. 입력 폼과 저장/삭제/닫기 버튼으로 구성된다.

**사용 화면**: CRUD 기능이 있는 모든 화면 (사용자, 역할, 메뉴, 코드, 배치, 게이트웨이, 오류 등 28개 이상)

**요구사항**
- 팝업 열림 시 배경이 반투명 오버레이로 덮여야 한다.
- 팝업은 화면 중앙에 배치되어야 한다.
- 제목 바에 팝업 제목과 닫기(X) 버튼이 표시되어야 한다.
- 등록 모드: 모든 입력 항목이 빈 상태(또는 기본값)로 표시되어야 한다. 식별자 항목이 입력 가능하여야 한다. 삭제 버튼이 숨겨져야 한다.
- 수정 모드: 기존 데이터가 각 항목에 채워져야 한다. 식별자 항목이 읽기 전용이어야 한다. 삭제 버튼이 표시되어야 한다.
- 하단에 삭제(좌측), 닫기(우측), 저장(우측) 버튼이 배치되어야 한다.
- 필수 항목에는 빨간색 별표(*)가 표시되어야 한다.
- 입력 항목은 2열 격자 배열이 기본이며, 설명이 긴 항목은 전체 너비를 사용하여야 한다.
- 내용이 많을 경우 팝업 내부에서 스크롤이 가능하여야 한다 (최대 높이: 화면의 75%).
- ESC 키 또는 오버레이 클릭 시 팝업이 닫혀야 한다.

---

## 6. 확인 팝업

**정의**: 삭제 등 되돌릴 수 없는 작업을 실행하기 전에 사용자의 최종 확인을 받는 경고 팝업이다.

**사용 화면**: 삭제 기능이 있는 모든 화면

**요구사항**
- "정말로 'XXX'을(를) 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다." 형식의 경고 메시지가 표시되어야 한다.
- 확인/취소 버튼이 제공되어야 한다.
- 확인 클릭 시에만 삭제가 진행되어야 한다.
- 삭제 대상의 식별 정보(이름 또는 ID)가 메시지에 포함되어야 한다.

---

## 7. 사용 여부 표시 배지

**정의**: 사용/미사용, 활성/비활성 등 이진 상태를 색상 아이콘으로 시각 표시하는 요소이다.

**사용 화면**: 메뉴, 코드, 배치, 게이트웨이, 인스턴스, 컴포넌트, 도메인, Validator, 핸들러 등 18개 이상

**요구사항**
- 사용(활성) 상태는 초록색 원형 아이콘으로 표시되어야 한다.
- 미사용(비활성) 상태는 빨간색 원형 아이콘으로 표시되어야 한다.
- 아이콘만으로 의미가 전달되어야 하며, 마우스 오버 시 텍스트 툴팁("사용"/"미사용")이 표시되어야 한다.
- 모든 화면에서 사용 여부는 상태 아이콘(초록/빨강 원형)으로 통일 표시되어야 한다. 텍스트("사용"/"미사용")로 표시하는 방식은 사용하지 않는다.

---

## 8. 상태 배지

**정의**: 상태값(성공/실패/진행 중/대기 등)을 색상별 라벨로 시각 구분하여 표시하는 요소이다.

**사용 화면**: 배치 수행 내역(성공/실패/실행중), 실행 중인 배치(시작됨/요청됨), 거래 관리(정상/중지), 오류 발생 현황 등 12개 이상

**요구사항**
- 각 상태별로 고유한 배경색이 지정되어야 한다.
- 배지 내부에 상태 텍스트가 표시되어야 한다.
- 색상만으로 구분되지 않도록 텍스트가 반드시 함께 표시되어야 한다.

**표준 상태 배지 색상 맵**

| 상태값 | 배경색 | 사용 화면 |
|--------|--------|-----------|
| 성공 / 정상 / 활성 | 초록 (#28a745) | 배치 수행 내역, 거래 관리, 중지거래 접근허용자 |
| 실패 / 중지 / 비활성 / 높음 | 빨강 (#dc3545) | 배치 수행 내역, 거래 관리, 거래 중지, 중지거래 접근허용자, 배치 중요도 |
| 진행중 / 시작됨 | 파랑 (#007bff) | 배치 수행 내역, 실행 중인 배치, 전문 테스트 |
| 대기 / 요청됨 / 예정 / 보통 | 노랑 (#ffc107) | 배치 수행 내역, 실행 중인 배치, 거래 중지, 배치 중요도 |
| 낮음 / 해당없음 | 회색 (#6c757d) | 배치 중요도 |
| 삭제 | 진한 빨강 (#c82333) | 사용자 관리 |
| 정지 | 주황 (#fd7e14) | 사용자 관리 |
| 준비 | 밝은 파랑 (#17a2b8) | 전문 테스트 |
| 완료 | 초록 (#28a745) | 전문 테스트 |
| 잠금 | 빨강 (#dc3545) | 전문 관리 (필드 잠금 상태) |

---

## 9. 항목 이동 위젯

**정의**: 좌측(선택된 항목)과 우측(선택 가능 항목) 2개 패널 사이에서 항목을 추가/제거하여 할당을 관리하는 위젯이다.

**사용 화면**: 배치 APP 관리 (WAS 인스턴스 할당), 게이트웨이 관리 (기관 연결), 역할 관리 (메뉴 권한 설정)

**요구사항**
- 좌측 패널에 현재 선택된(할당된) 항목이 표시되어야 한다.
- 우측 패널에 선택 가능한(미할당) 항목이 표시되어야 한다.
- 중앙에 추가(→)/제거(←) 화살표 버튼이 배치되어야 한다.
- 항목을 더블 클릭하면 반대편 패널로 이동되어야 한다.
- 전체 선택 체크박스가 제공되어야 한다.
- 우측 패널 항목에는 식별에 필요한 부가 정보(예: IP, 설명)가 함께 표시되어야 한다.

---

## 10. 상위 항목 트리 선택

**정의**: 계층 구조 데이터에서 상위 항목을 트리(나무) 형태로 탐색하고 선택할 수 있는 팝업이다.

**사용 화면**: 메뉴 관리 (상위 메뉴 선택), 전문 관리 (상위 전문 선택), 업무분류 관리 (상위 분류 선택)

**요구사항**
- 최상위(루트)를 선택할 수 있는 옵션이 별도로 제공되어야 한다.
- 하위 항목이 있는 노드는 펼침/접힘 토글이 가능하여야 한다.
- 폴더/파일 아이콘으로 계층 유형이 구분되어야 한다.
- 항목 클릭 시 선택 상태가 시각적으로 표시되어야 한다.
- 데이터 로딩 중/데이터 없음 상태가 표시되어야 한다.

---

## 11. WAS Reload 확인 팝업

**정의**: 설정 변경 후 WAS 인스턴스에 변경 사항을 반영(Reload)하기 위해 대상 인스턴스를 선택하고 결과를 확인하는 팝업이다.

**사용 화면**: 거래 관리, 서비스 관리, 게이트웨이 맵핑, APP 맵핑, 리스너 맵핑, XML 속성 관리, 운영정보 Reload, 속성 관리

**요구사항**
- 반영 대상 WAS 인스턴스 목록이 체크박스와 함께 표시되어야 한다.
- 전체 선택/해제 체크박스가 제공되어야 한다.
- 반영 실행 버튼 클릭 시 선택된 인스턴스에 Reload가 요청되어야 한다.
- 각 인스턴스별 반영 결과(성공/실패)가 표시되어야 한다.
- 실패 시 오류 메시지가 함께 표시되어야 한다.

---

## 12. 날짜 범위 검색 필터

**정의**: 시작일과 종료일을 선택하여 데이터 조회 기간을 지정하는 입력 영역이다.

**사용 화면**: 배치 수행 내역, 오류 발생 현황, 에러 내역 통계, 거래 중지 이력, 관리자 작업 이력, 오류 핸들러 수행 내역

**요구사항**
- 시작일과 종료일 2개의 날짜 선택 입력이 제공되어야 한다.
- 시작일이 종료일보다 이후일 수 없어야 한다 (유효성 검사).
- 달력 팝업을 통해 날짜를 선택할 수 있어야 한다.
- 기본값은 오늘 기준 최근 1개월이어야 한다.

---

## 13. 탭 네비게이션 (전역)

**정의**: 여러 화면을 동시에 열어두고 탭을 클릭하여 전환할 수 있는 상단 탭 바이다.

**사용 화면**: 전체 레이아웃 (모든 화면에 적용)

**요구사항**
- 메뉴 클릭 시 새로운 탭이 추가되어야 한다. 이미 열린 화면은 중복 탭이 생성되지 않고 해당 탭으로 이동되어야 한다.
- 각 탭에 닫기(X) 버튼이 표시되어야 한다.
- 활성 탭이 배경색/테두리 등으로 시각적으로 구분되어야 한다.
- 탭 닫기 시 이전 활성 탭으로 자동 전환되어야 한다.
- 탭이 많아 한 줄에 표시되지 않을 경우 좌우 스크롤 또는 더보기 기능이 제공되어야 한다.

---

## 14. 드래그 앤 드롭 정렬 그리드

**정의**: 행을 마우스로 드래그하여 순서를 변경할 수 있는 목록이다.

**사용 화면**: 서비스 관리 (컴포넌트 실행 순서), 전문 관리 (필드 순서), 컴포넌트 관리 (파라미터 순서)

**요구사항**
- 행의 좌측에 드래그 핸들(≡ 아이콘)이 표시되어야 한다.
- 드래그 핸들을 잡고 위아래로 이동하면 행 순서가 변경되어야 한다.
- 드래그 중인 행이 시각적으로 구분되어야 한다 (반투명 + 그림자).
- 드롭 위치를 나타내는 삽입 라인이 표시되어야 한다.
- 순서 변경 후 자동으로 순서 번호가 재할당되어야 한다.
- 순서 변경은 저장 버튼을 클릭해야 서버에 반영되어야 한다 (즉시 반영하지 않음).

---

## 15. 확장형 검색 영역

**정의**: 기본 검색 조건 외에 추가 검색 조건을 펼치기/접기로 표시하는 검색 영역이다.

**사용 화면**: 서비스 관리, 컴포넌트 관리, 거래 관리, 요청처리 APP 맵핑 관리

**요구사항**
- 기본 검색 조건(1행)은 항상 표시되어야 한다.
- "상세 검색" 또는 펼침(▼) 버튼을 클릭하면 추가 검색 조건(2행 이상)이 표시되어야 한다.
- 접힌 상태에서는 추가 조건에 값이 설정되어 있을 경우 활성 필터 수가 뱃지로 표시되어야 한다 (예: "상세 검색 (3)").
- 펼침/접힘 상태가 세션 동안 유지되어야 한다.
- 접힌 상태에서도 설정된 추가 조건은 검색에 적용되어야 한다.

---

## 16. 인라인 편집 그리드

**정의**: 팝업 없이 그리드의 셀을 직접 클릭하여 값을 편집할 수 있는 목록이다.

**사용 화면**: XML 속성 항목 편집, 긴급공지 관리, 도메인 필드풀 관리, 전문 필드 정의, LABEL 언어별 텍스트

**요구사항**
- 셀 클릭 시 해당 셀이 편집 가능한 입력 필드로 전환되어야 한다.
- 편집 중인 셀은 시각적으로 구분되어야 한다 (테두리 강조).
- Tab 키로 다음 편집 가능 셀로 이동할 수 있어야 한다.
- Enter 키로 편집을 확정하고, ESC 키로 편집을 취소할 수 있어야 한다.
- 변경된 행은 시각적으로 표시되어야 한다 (배경색 변경 또는 변경 마커).
- 행 추가(+) 및 행 삭제(X) 버튼이 제공되어야 한다.
- 변경 사항은 일괄 저장 버튼으로 한 번에 저장되어야 한다.
