# [전송 데이터] 화면 요구사항

---

## 전송 데이터 관리

**화면 목적**: 생성된 전송 데이터의 목록을 조회하고 상태를 관리하는 화면이다.

**접근 경로**: GNB > 전송 데이터 > 전송 데이터 관리

**화면 유형**: 표준 CRUD 화면 (템플릿 A 참조)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 검색 필터 영역 | 상단, 검색 유형 + 검색어 + 전송 상태 필터 + 조회 건수 + 조회 버튼 |
| 도구 모음 | 목록 상단 우측, 엑셀 / 출력 버튼 |
| 목록 영역 | 중앙, 전송 데이터 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 검색 유형 | 드롭다운 (전송 데이터명 / 전송 데이터 ID) | 선택 | 전송 데이터명 | - |
| 검색어 | 텍스트 입력 | 선택 | 빈 값 | - |
| 전송 상태 | 드롭다운 (전체/대기/전송중/완료/실패) | 선택 | 전체 | - |
| 생성일 | 날짜 범위 | 선택 | 최근 1개월 | 시작일 ≤ 종료일 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 전송 데이터 ID | 텍스트 | 가능 | - |
| 전송 데이터명 | 텍스트 | 가능 | - |
| 전송 대상 | 텍스트 | 가능 | 기관명 |
| 데이터 건수 | 숫자 | 가능 | - |
| 전송 상태 | 상태 배지 | 불가 | 대기=노랑, 전송중=파랑, 완료=초록, 실패=빨강 |
| 생성자 | 텍스트 | 가능 | - |
| 생성일시 | 날짜/시간 | 가능 | - |
| 전송일시 | 날짜/시간 | 가능 | - |

- 목록 클릭 시 동작: 전송 데이터 상세 팝업 열림 (읽기 전용)
- 기본 정렬 기준: 생성일시 내림차순
- 페이지당 기본 표시 건수: 20건

### 상세 팝업

| 항목명 | 데이터 유형 | 비고 |
|--------|-------------|------|
| 전송 데이터 ID | 텍스트 (읽기 전용) | - |
| 전송 데이터명 | 텍스트 (읽기 전용) | - |
| 전송 대상 | 텍스트 (읽기 전용) | 기관 ID + 기관명 |
| 데이터 건수 | 숫자 (읽기 전용) | - |
| 전송 상태 | 상태 배지 (읽기 전용) | - |
| 생성자 / 생성일시 | 텍스트 (읽기 전용) | - |
| 전송일시 | 텍스트 (읽기 전용) | - |
| 데이터 미리보기 | 테이블 | 전송 데이터의 처음 10건을 표 형태로 표시 |

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 엑셀 | 항상 노출 | 검색 결과 엑셀 다운로드 | 전체 |
| 출력 | 항상 노출 | 목록 인쇄 | 전체 |
| 재전송 (상세 팝업) | 전송 실패 상태 | 해당 전송 데이터를 재전송 | 쓰기 권한 |
| 삭제 (상세 팝업) | 대기/실패 상태 | 확인 팝업 후 전송 데이터 삭제 | 쓰기 권한 |

### 개별 기능 요구사항

- 전송 실패 상태의 데이터는 재전송할 수 있어야 한다.
- 전송 완료 상태의 데이터는 삭제할 수 없어야 한다.
- 전송 중 상태의 데이터는 삭제 및 재전송이 불가하여야 한다.
- 상세 팝업에서 데이터 미리보기를 통해 전송 내용을 확인할 수 있어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 목록 조회 결과가 3초 이내에 표시되어야 한다 |
| 데이터 보존 | 전송 완료 데이터는 최소 90일간 조회 가능하여야 한다 |

---

## 전송 데이터 생성

**화면 목적**: 전송 대상을 선택하고 데이터를 생성하여 전송을 준비하는 화면이다.

**접근 경로**: GNB > 전송 데이터 > 전송 데이터 생성

**화면 유형**: 특수 화면 (템플릿 D - 단계형 폼)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 단계 표시 영역 | 상단, 현재 진행 단계 표시 (1. 대상 선택 → 2. 데이터 확인 → 3. 생성 완료) |
| 폼 영역 | 중앙, 단계별 입력/확인 폼 |
| 버튼 영역 | 하단, 이전/다음/생성 실행 버튼 |

### 단계 1: 대상 선택

| 항목명 | 입력 유형 | 필수 여부 | 유효성 조건 |
|--------|-----------|-----------|-------------|
| 전송 데이터명 | 텍스트 입력 | 필수 | 최대 100자 |
| 전송 대상 기관 | 드롭다운 | 필수 | 기관 목록에서 선택, API에서 동적 로드 |
| 데이터 유형 | 드롭다운 | 필수 | - |
| 조회 기간 | 날짜 범위 | 선택 | 시작일 ≤ 종료일 |
| 추가 조건 | 텍스트 영역 | 선택 | 최대 500자 |

### 단계 2: 데이터 확인

- 선택한 조건에 따라 생성 예정 데이터의 미리보기가 표시되어야 한다.
- 미리보기는 최대 50건까지 표시되어야 한다.
- 전체 예상 데이터 건수가 표시되어야 한다.

### 단계 3: 생성 완료

- 생성 진행 상태가 프로그레스 바로 표시되어야 한다.
- 생성 완료 시 결과 요약(총 건수, 성공/실패 건수)이 표시되어야 한다.
- "전송 데이터 관리로 이동" 링크가 제공되어야 한다.

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 다음 | 1단계, 2단계 | 다음 단계로 이동 | 쓰기 권한 |
| 이전 | 2단계, 3단계 (생성 전) | 이전 단계로 이동 | 전체 |
| 미리보기 | 2단계 | 생성 예정 데이터 조회 | 전체 |
| 생성 실행 | 2단계 | 확인 팝업 후 데이터 생성 시작 | 쓰기 권한 |

### 개별 기능 요구사항

- 각 단계 간 이동 시 이전 단계에서 입력한 데이터가 유지되어야 한다.
- 생성 실행 전 확인 팝업이 표시되어야 한다: "전송 데이터를 생성하시겠습니까? (예상 건수: N건)"
- 생성 진행 중에는 브라우저를 닫거나 다른 탭으로 이동하면 경고가 표시되어야 한다.
- 생성 실패 시 오류 원인이 표시되고, 재시도할 수 있어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 미리보기 조회가 5초 이내에 표시되어야 한다 |
| 생성 용량 | 1회 생성 시 최대 100,000건까지 처리 가능하여야 한다 |

---

## 전송 데이터 파일

**화면 목적**: 전송 데이터 파일을 업로드하고, 업로드된 파일 목록을 조회/관리하는 화면이다.

**접근 경로**: GNB > 전송 데이터 > 전송 데이터 파일

**화면 유형**: 특수 화면 (템플릿 D - 파일 관리)

### 화면 레이아웃 구성

| 영역 | 설명 |
|------|------|
| 파일 업로드 영역 | 상단, 드래그 앤 드롭 또는 파일 선택 버튼 |
| 업로드 진행 영역 | 업로드 중일 때 프로그레스 바 표시 |
| 검색 필터 영역 | 파일명 검색 + 업로드 상태 필터 + 조회 건수 |
| 파일 목록 영역 | 중앙, 업로드된 파일 목록 테이블 |
| 페이지 네비게이션 | 목록 하단 |

### 검색 / 필터

| 필터 항목명 | 입력 유형 | 필수 여부 | 기본값 | 유효성 조건 |
|-------------|-----------|-----------|--------|-------------|
| 파일명 | 텍스트 입력 | 선택 | 빈 값 | - |
| 업로드 상태 | 드롭다운 (전체/업로드중/완료/실패) | 선택 | 전체 | - |
| 업로드일 | 날짜 범위 | 선택 | 최근 1개월 | 시작일 ≤ 종료일 |

### 목록 표시

| 컬럼명 | 데이터 유형 | 정렬 가능 | 비고 |
|--------|-------------|-----------|------|
| 파일명 | 텍스트 | 가능 | - |
| 파일 크기 | 텍스트 | 가능 | KB/MB 단위 자동 변환 |
| 업로드 상태 | 상태 배지 | 불가 | 업로드중=파랑, 완료=초록, 실패=빨강 |
| 데이터 건수 | 숫자 | 가능 | 파일 내 레코드 수 |
| 업로드자 | 텍스트 | 가능 | - |
| 업로드일시 | 날짜/시간 | 가능 | - |

- 기본 정렬 기준: 업로드일시 내림차순
- 페이지당 기본 표시 건수: 20건

### 버튼 및 액션

| 버튼명 | 노출 조건 | 클릭 동작 | 권한 제어 |
|--------|-----------|-----------|-----------|
| 파일 선택 | 항상 노출 | 파일 탐색기 열기 | 쓰기 권한 |
| 업로드 | 파일 선택 후 | 선택된 파일 업로드 시작 | 쓰기 권한 |
| 삭제 | 목록에서 파일 선택 시 | 확인 팝업 후 파일 삭제 | 쓰기 권한 |
| 다운로드 | 목록에서 파일 선택 시 | 파일 다운로드 | 전체 |
| 엑셀 | 항상 노출 | 파일 목록 엑셀 다운로드 | 전체 |

### 개별 기능 요구사항

- 드래그 앤 드롭으로 파일을 업로드 영역에 끌어놓을 수 있어야 한다.
- 업로드 진행률이 프로그레스 바로 표시되어야 한다 (0%~100%).
- 업로드 중에는 취소 버튼이 제공되어야 한다.
- 업로드 완료 시 "업로드가 완료되었습니다" 토스트 메시지가 표시되어야 한다.
- 업로드 실패 시 오류 원인이 표시되고, 재업로드할 수 있어야 한다.
- 허용 파일 형식은 .csv, .xlsx, .txt로 제한되어야 한다.
- 허용되지 않는 형식의 파일 선택 시 "지원하지 않는 파일 형식입니다. (허용: csv, xlsx, txt)" 메시지가 표시되어야 한다.
- 최대 파일 크기는 100MB로 제한되어야 하며, 초과 시 안내 메시지가 표시되어야 한다.

### 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 응답 속도 | 파일 목록 조회가 3초 이내에 표시되어야 한다 |
| 업로드 속도 | 10MB 이하 파일은 30초 이내에 업로드가 완료되어야 한다 |
| 최대 파일 크기 | 100MB |
| 허용 파일 형식 | .csv, .xlsx, .txt |
